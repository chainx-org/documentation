<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.71.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../favicons/android-192x192.png sizes=192x192><title>JS-SDK | ChainX Docs</title><meta property="og:title" content="JS-SDK"><meta property="og:description" content="A short lead descripton about this content page. It can be **bold** or _italic_ and can be split over multiple paragraphs."><meta property="og:type" content="article"><meta property="og:url" content="https://chainx-org.github.io/documentation/docs/developers/js-sdk/"><meta property="article:published_time" content="2020-07-13T00:00:00+00:00"><meta property="article:modified_time" content="2020-12-02T16:13:37+08:00"><meta property="og:site_name" content="ChainX Docs"><meta itemprop=name content="JS-SDK"><meta itemprop=description content="A short lead descripton about this content page. It can be **bold** or _italic_ and can be split over multiple paragraphs."><meta itemprop=datePublished content="2020-07-13T00:00:00+00:00"><meta itemprop=dateModified content="2020-12-02T16:13:37+08:00"><meta itemprop=wordCount content="716"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="JS-SDK"><meta name=twitter:description content="A short lead descripton about this content page. It can be **bold** or _italic_ and can be split over multiple paragraphs."><link rel=preload href=../../../scss/main.min.e291fcabf38401f978214cbececd3bf867b81ce2f345dd8fcdb61bb530a940ee.css as=style><link href=../../../scss/main.min.e291fcabf38401f978214cbececd3bf867b81ce2f345dd8fcdb61bb530a940ee.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=../../../><span class=navbar-logo><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="296" height="64" viewBox="0 0 296 64" enable-background="new 0 0 296 64"><image id="image0" width="296" height="64" x="0" y="0" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASgAAABACAMAAACeCRqoAAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA21BMVEVHcEzg6c32vEzrd03o d07od032sk5Aucg6x5w1x5o1xpo4xppGttW/4Lz2t0zrdkvqdkzefFa3t39CvsY0x5r///////// //////////////////////////////////85x5n////////////3ykv3ykv////3ykr4y0v////3 ykv3ykv3yUr4ykv///////+dpHb////3ykuInJFRuLvzyU5HruJnp8PKwnFIr+JGr+KWu55yxoNH r+PyskqZnG9+t7SlvZLqdUs0xpr////2yUrvkktGruKrwIS9CbWWAAAAQnRSTlMACElgg50hWJHB 3HQ6Aze/8+YQH/MQUYWs1u3Itn9FGKm9YJ7yjJLfWjObzrluJG2id397/q3A0P6L8PHn3vva0fH5 WCX+AAAAAWJLR0QV5dj5owAAAAd0SU1FB+QHDQgLM1N8HpwAAAqPSURBVHja5Zx9X+I6FoBbUFEk yDuUIkhBlAHh4o7c0R3unVVc/f6faGmbnJOcJKUozsxez2/+GNskbZ+e91QdR4ibyR4cHmSPnERx c8cn+Xz+5LTAnE8pxbPSYyzlg4p1VPW49iQkf/oJUR2dPUpSOrAgOEVMEarqr77vny3Z0qMqZyal co+fiNRyv/rOfzKnR03KuqtyT550+VSkMo8GKVFSRk5PtcKvvvufJ5WSEVSRjJI45U/QV50kLV1v NFteu71ue37nvFv/8EfpfWh4OQDHlC0eZQ9KWzjVTkP/Vb3Yanxuo79WxQ9cOqjZiaS7h+eoDzZv pNXbYQYrDp9jGWaMAy7F6ZCGUKhS1mGM8QAYccoirEoeNKjqhK+NObktKtVor3Vpj9QHqfPj/T1w 8uIr7EKq+CzkyhS9ruF0hIPrUxbOH8QOKotqVUVOuOApP2TMEcb9tVnawQeBGvClOrtMugQUX/ST R0Lfni/DHw9jTofSiCg7jywyQzlJtsPydttrru3Sl3zVHkGBArs7TGITIKUb31ScmkSurxyDIj6J e65S1srJcXhadapdwR2sk8RD69gjKFh+Jy+FWqMZ3404M4wTAO6iyDDw8FmJ04UaVLiXOtY4dYi1 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 AABJRU5ErkJggg=="/></svg></span><span class="text-uppercase font-weight-bold">ChainX Docs</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=../../../docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/chainx-org/ChainX target=_blank><span>GitHub</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Version</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../>v2.0 (Latest)</a>
<a class=dropdown-item href=https://doc.chainx.org>v1.0</a></div></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../zh/docs/developers/js-sdk/>中文</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../zh/docs/developers/js-sdk/>中文</a></div></div><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=docs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/overview/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a></li><ul><li class=collapse id=docsoverview></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/basics/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Basics</a></li><ul><li class=collapse id=docsbasics><a class="td-sidebar-link td-sidebar-link__page" id=m-docsbasicsaccounts href=../../../docs/basics/accounts/>Accounts</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsbasicsassets href=../../../docs/basics/assets/>Assets</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsbasicsstaking href=../../../docs/basics/staking/>Staking</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsbasicsasset-mining href=../../../docs/basics/asset-mining/>Asset Mining</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/validators/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Validators</a></li><ul><li class=collapse id=docsvalidators></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/developers/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Developers</a></li><ul><li class="collapse show" id=docsdevelopers><a class="td-sidebar-link td-sidebar-link__page" id=m-docsdevelopersrpc href=../../../docs/developers/rpc/>RPC</a>
<a class="td-sidebar-link td-sidebar-link__page active" id=m-docsdevelopersjs-sdk href=../../../docs/developers/js-sdk/>JS-SDK</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsdevelopersdevops href=../../../docs/developers/devops/>Devops</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsdevelopersexchanges href=../../../docs/developers/exchanges/>Exchanges</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/smart-contract/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Smart Contract</a></li><ul><li class=collapse id=docssmart-contract><a class="td-sidebar-link td-sidebar-link__page" id=m-docssmart-contractmulti-bear href=../../../docs/smart-contract/multi-bear/>Multi-Bear Domicile Setup</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docssmart-contracttutorial2 href=../../../docs/smart-contract/tutorial2/>Another Tutorial</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/bridges/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Bridges</a></li><ul><li class=collapse id=docsbridges><a class="td-sidebar-link td-sidebar-link__page" id=m-docsbridgesbitcoin href=../../../docs/bridges/bitcoin/>Bitcoin Bridge</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/testnet/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Testnet</a></li><ul><li class=collapse id=docstestnet><a class="td-sidebar-link td-sidebar-link__page" id=m-docstestnetlocal-dev-testnet href=../../../docs/testnet/local-dev-testnet/>Local Dev Testnet</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docstestnetpublic-testnet href=../../../docs/testnet/public-testnet/>Public Testnet</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/general/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">General</a></li><ul><li class=collapse id=docsgeneral><a class="td-sidebar-link td-sidebar-link__page" id=m-docsgeneralfaq href=../../../docs/general/faq/>FAQs</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsgeneralresources href=../../../docs/general/resources/>Resources</a></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/chainx-org/documentation/edit/master/content/en/docs/Developers/js-sdk.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/chainx-org/documentation/issues/new?title=JS-SDK" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a>
<a href=https://github.com/chainx-org/ChainX/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>Create project issue</a></div><nav id=TableOfContents><ul><li><a href=#installation>Installation</a></li><li><a href=#basics>Basics</a><ul><li><a href=#create-an-instance>Create an Instance</a></li><li><a href=#simple-connect>Simple Connect</a></li><li><a href=#account-balances>Account Balances</a></li><li><a href=#subscribe-block-updates>Subscribe Block Updates</a></li><li><a href=#read-storage>Read Storage</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://chainx-org.github.io/documentation/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://chainx-org.github.io/documentation/docs/developers/>Developers</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://chainx-org.github.io/documentation/docs/developers/js-sdk/>JS-SDK</a></li></ol></nav><div class=td-content><h1>JS-SDK</h1><div class=lead>A short lead descripton about this content page. It can be <strong>bold</strong> or <em>italic</em> and can be split over multiple paragraphs.</div><ul><li><a href=#getting-started>Getting Started</a><ul><li><a href=#installation>Installation</a></li><li><a href=#basics>Basics</a><ul><li><a href=#create-an-instance>Create an Instance</a></li><li><a href=#simple-connect>Simple Connect</a></li><li><a href=#account-module>Account Module</a></li><li><a href=#account-balances>Balances</a></li></ul></li></ul></li></ul><h1 id=getting-started>Getting Started</h1><p>These sections would provide you the information needed to install the <code>@chainx-v2/api</code> package, understand the structures, and start using it. It is not a line-by-line documentation of all existing function calls.</p><h2 id=installation>Installation</h2><p>Install the API via</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yarn add @polkadot/api @chainx-v2/api
</code></pre></div><h2 id=basics>Basics</h2><p>For general <code>polkadot-js</code> interactions with the blockchain, e.g. state queries, PRC calls, keyring etc., please refer to the <a href=https://polkadot.js.org/api/start/install.html><code>polkadot-js/api documentation</code></a> for more details. The <code>acala-network/api</code> provides types and other interactions specific to the Acala Network.</p><h3 id=create-an-instance>Create an Instance</h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#080;font-weight:700>const</span> { ApiPromise } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@polkadot/api&#34;</span>);
<span style=color:#080;font-weight:700>const</span> { WsProvider } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@polkadot/rpc-provider&#34;</span>);
<span style=color:#080;font-weight:700>const</span> { options } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@chainx-v2/api&#34;</span>);

async <span style=color:#080;font-weight:700>function</span> main() {
  <span style=color:#080;font-weight:700>const</span> wsProvider = <span style=color:#080;font-weight:700>new</span> WsProvider(<span style=color:#d20;background-color:#fff0f0>&#34;wss://staging-1.chainx.org/ws&#34;</span>);
  <span style=color:#080;font-weight:700>const</span> api = await ApiPromise.create(options({ provider: wsProvider }));
  await api.isReady;
  <span style=color:#888>// use api
</span><span style=color:#888></span>}

main();
</code></pre></div><h3 id=simple-connect>Simple Connect</h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#080;font-weight:700>const</span> { ApiPromise } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@polkadot/api&#34;</span>);
<span style=color:#080;font-weight:700>const</span> { WsProvider } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@polkadot/rpc-provider&#34;</span>);
<span style=color:#080;font-weight:700>const</span> { options } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@chainx-v2/api&#34;</span>);

async <span style=color:#080;font-weight:700>function</span> main() {
  <span style=color:#080;font-weight:700>const</span> wsProvider = <span style=color:#080;font-weight:700>new</span> WsProvider(<span style=color:#d20;background-color:#fff0f0>&#34;wss://staging-1.chainx.org/ws&#34;</span>);
  <span style=color:#080;font-weight:700>const</span> api = await ApiPromise.create(options({ provider: wsProvider }));
  await api.isReady;
  <span style=color:#888>// use api
</span><span style=color:#888></span>
  <span style=color:#080;font-weight:700>const</span> [chain, nodeName, nodeVersion] = await <span style=color:#038>Promise</span>.all([
    api.rpc.system.chain(),
    api.rpc.system.name(),
    api.rpc.sytem.version(),
  ]);
  console.log(
    <span style=color:#d20;background-color:#fff0f0>`You are connected to chain </span><span style=color:#33b;background-color:#fff0f0>${</span>chain<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0> using </span><span style=color:#33b;background-color:#fff0f0>${</span>nodeName<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0> v</span><span style=color:#33b;background-color:#fff0f0>${</span>nodeVersion<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0> `</span>
  );
}
main();
</code></pre></div><h3 id=account-balances>Account Balances</h3><p>ChainX NetWork supports multi-currencies. Network native token (PCX) can be queried via system balance.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#080;font-weight:700>const</span> { ApiPromise } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@polkadot/api&#34;</span>);
<span style=color:#080;font-weight:700>const</span> { WsProvider } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@polkadot/rpc-provider&#34;</span>);
<span style=color:#080;font-weight:700>const</span> { options } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@chainx-v2/api&#34;</span>);
async <span style=color:#080;font-weight:700>function</span> main() {
  <span style=color:#080;font-weight:700>const</span> wsProvider = <span style=color:#080;font-weight:700>new</span> WsProvider(<span style=color:#d20;background-color:#fff0f0>&#34;wss://staging-1.chainx.org/ws&#34;</span>);
  <span style=color:#080;font-weight:700>const</span> api = await ApiPromise.create(options({ provider: wsProvider }));
  await api.isReady;
  <span style=color:#888>// use api
</span><span style=color:#888></span>  <span style=color:#080;font-weight:700>const</span> Alice = <span style=color:#d20;background-color:#fff0f0>&#34;5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY&#34;</span>;
  <span style=color:#888>// Retrieve the initial balance. Since the call has no callback, it is simply a promise
</span><span style=color:#888></span>  <span style=color:#888>// that resolves to the current on-chain value
</span><span style=color:#888></span>  <span style=color:#080;font-weight:700>let</span> {
    data: { free: previousFree },
    nonce: previousNonce,
  } = await api.query.system.account(Alice);
  console.log(
    <span style=color:#d20;background-color:#fff0f0>`</span><span style=color:#33b;background-color:#fff0f0>${</span>Alice<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0> has a balance of </span><span style=color:#33b;background-color:#fff0f0>${</span>previousFree<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0>, nonce </span><span style=color:#33b;background-color:#fff0f0>${</span>previousNonce<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0>`</span>
  );
  console.log(
    <span style=color:#d20;background-color:#fff0f0>`You may leave this example running and start example 06 or transfer any value to </span><span style=color:#33b;background-color:#fff0f0>${</span>Alice<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0>`</span>
  );
  <span style=color:#888>// Here we subscribe to any balance changes and update the on-screen value
</span><span style=color:#888></span>  api.query.system.account(
    Alice,
    ({ data: { free: currentFree }, nonce: currentNonce }) =&gt; {
      <span style=color:#888>// Calculate the delta
</span><span style=color:#888></span>      <span style=color:#080;font-weight:700>const</span> change = currentFree.sub(previousFree);
      <span style=color:#888>// Only display positive value changes (Since we are pulling `previous` above already,
</span><span style=color:#888></span>      <span style=color:#888>// the initial balance change will also be zero)
</span><span style=color:#888></span>      <span style=color:#080;font-weight:700>if</span> (!change.isZero()) {
        console.log(<span style=color:#d20;background-color:#fff0f0>`New balance change of </span><span style=color:#33b;background-color:#fff0f0>${</span>change<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0>, nonce </span><span style=color:#33b;background-color:#fff0f0>${</span>currentNonce<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0>`</span>);
        previousFree = currentFree;
        previousNonce = currentNonce;
      }
    }
  );
}
main();
</code></pre></div><h3 id=subscribe-block-updates>Subscribe Block Updates</h3><p>This example shows how to subscribe to and later unsubscribe from listening to block updates.
In this example we&rsquo;re calling the built-in unsubscribe() function after a timeOut of 20s to cleanup and unsubscribe from listening to updates.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#080;font-weight:700>const</span> { ApiPromise } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@polkadot/api&#34;</span>);
<span style=color:#080;font-weight:700>const</span> { WsProvider } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@polkadot/rpc-provider&#34;</span>);
<span style=color:#080;font-weight:700>const</span> { options } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@chainx-v2/api&#34;</span>);

async <span style=color:#080;font-weight:700>function</span> main() {
  <span style=color:#080;font-weight:700>const</span> wsProvider = <span style=color:#080;font-weight:700>new</span> WsProvider(<span style=color:#d20;background-color:#fff0f0>&#34;wss://staging-1.chainx.org/ws&#34;</span>);
  <span style=color:#080;font-weight:700>const</span> api = await ApiPromise.create(options({ provider: wsProvider }));
  await api.isReady;
  <span style=color:#888>// use api
</span><span style=color:#888></span>  <span style=color:#888>// Subscribe to chain updates and log the current block number on update.
</span><span style=color:#888></span>  <span style=color:#080;font-weight:700>const</span> unsubscribe = await api.rpc.chain.subscribeNewHeads((header) =&gt; {
    console.log(<span style=color:#d20;background-color:#fff0f0>`Chain is at block: #</span><span style=color:#33b;background-color:#fff0f0>${</span>header.number<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0>`</span>);
  });

  <span style=color:#888>// In this example we&#39;re calling the unsubscribe() function that is being
</span><span style=color:#888></span>  <span style=color:#888>// returned by the api call function after 20s.
</span><span style=color:#888></span>  setTimeout(() =&gt; {
    unsubscribe();
    console.log(<span style=color:#d20;background-color:#fff0f0>&#34;Unsubscribed&#34;</span>);
  }, <span style=color:#00d;font-weight:700>20000</span>);
}
main();
</code></pre></div><h3 id=read-storage>Read Storage</h3><p>In addition to querying the latest storage, you can make storage queries at a specific blockhash.
Be aware that the node applies a pruning strategy and typically only keeps the last 256 blocks, unless run in archive mode.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#080;font-weight:700>const</span> { ApiPromise } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@polkadot/api&#34;</span>);
<span style=color:#080;font-weight:700>const</span> { WsProvider } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@polkadot/rpc-provider&#34;</span>);
<span style=color:#080;font-weight:700>const</span> { options } = require(<span style=color:#d20;background-color:#fff0f0>&#34;@chainx-v2/api&#34;</span>);
<span style=color:#888>// Our address for Alice on the dev chain
</span><span style=color:#888></span><span style=color:#080;font-weight:700>const</span> ALICE = <span style=color:#d20;background-color:#fff0f0>&#34;5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY&#34;</span>;
<span style=color:#080;font-weight:700>const</span> BOB = <span style=color:#d20;background-color:#fff0f0>&#34;5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty&#34;</span>;

async <span style=color:#080;font-weight:700>function</span> main() {
  <span style=color:#080;font-weight:700>const</span> wsProvider = <span style=color:#080;font-weight:700>new</span> WsProvider(<span style=color:#d20;background-color:#fff0f0>&#34;wss://staging-1.chainx.org/ws&#34;</span>);
  <span style=color:#080;font-weight:700>const</span> api = await ApiPromise.create(options({ provider: wsProvider }));
  await api.isReady;
  <span style=color:#888>// Retrieve the last block header, extracting the hash and parentHash
</span><span style=color:#888></span>  <span style=color:#080;font-weight:700>const</span> { hash, parentHash } = await api.rpc.chain.getHeader();
  console.log(<span style=color:#d20;background-color:#fff0f0>`last header hash </span><span style=color:#33b;background-color:#fff0f0>${</span>hash.toHex()<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0>`</span>);

  <span style=color:#888>// Retrieve the balance at the preceding block for Alice. For at queries
</span><span style=color:#888></span>  <span style=color:#888>// the format is always `.at(&lt;blockhash&gt;, ...params)`
</span><span style=color:#888></span>  <span style=color:#080;font-weight:700>const</span> balance = await api.query.system.account.at(parentHash, ALICE);
  console.log(
    <span style=color:#d20;background-color:#fff0f0>`Alice&#39;s balance at </span><span style=color:#33b;background-color:#fff0f0>${</span>parentHash.toHex()<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0> was </span><span style=color:#33b;background-color:#fff0f0>${</span>balance.data.free<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0>`</span>
  );
  <span style=color:#888>// Now perform a multi query, returning multiple balances at once
</span><span style=color:#888></span>  <span style=color:#080;font-weight:700>const</span> balances = await api.query.system.account.multi([ALICE, BOB]);
  console.log(
    <span style=color:#d20;background-color:#fff0f0>`Current balances for Alice and Bob are </span><span style=color:#33b;background-color:#fff0f0>${</span>balances[<span style=color:#00d;font-weight:700>0</span>].data.free<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0> and </span><span style=color:#33b;background-color:#fff0f0>${</span>balances[<span style=color:#00d;font-weight:700>1</span>].data.free<span style=color:#33b;background-color:#fff0f0>}</span><span style=color:#d20;background-color:#fff0f0>`</span>
  );
}
main();
</code></pre></div><div class="text-muted mt-5 pt-3 border-top">Last modified December 2, 2020: <a href=https://github.com/chainx-org/documentation/commit/ef82afe2ef2d533a6b29060f1906367ffb5d2ae5>Update js-sdk.md (ef82afe)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://hi@chainx.org><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/chainx_org><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/chainx-org/ChainX><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Telegram aria-label=Telegram><a class=text-white target=_blank href=https://t.me/chainx_org><i class="fab fa-telegram"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 The ChainX Organization All Rights Reserved</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=../../../js/main.min.b6dfd66b2d261380250c517fd39bc9d8659709e9fc924b00d8fed92e8d9df768.js integrity="sha256-tt/Way0mE4AlDFF/05vJ2GWXCen8kksA2P7ZLo2d92g=" crossorigin=anonymous></script></body></html>