<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.71.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=alternate type=application/rss+xml href=https://chainx-org.github.io/documentation/docs/chainx/validators/index.xml><link rel="shortcut icon" href=../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../favicons/android-192x192.png sizes=192x192><title>Validator guide | ChainX Docs</title><meta property="og:title" content="Validator guide"><meta property="og:description" content="ChainX validator guide"><meta property="og:type" content="website"><meta property="og:url" content="https://chainx-org.github.io/documentation/docs/chainx/validators/"><meta property="og:updated_time" content="2022-04-24T11:07:00+08:00"><meta property="og:site_name" content="ChainX Docs"><meta itemprop=name content="Validator guide"><meta itemprop=description content="ChainX validator guide"><meta name=twitter:card content="summary"><meta name=twitter:title content="Validator guide"><meta name=twitter:description content="ChainX validator guide"><link rel=preload href=../../../scss/main.min.415a6fd7e2706af49fb0170de2cfd13fffc74126e7a581e65f95211b1777d254.css as=style><link href=../../../scss/main.min.415a6fd7e2706af49fb0170de2cfd13fffc74126e7a581e65f95211b1777d254.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=../../../><span class=navbar-logo><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="296" height="64" viewBox="0 0 296 64" enable-background="new 0 0 296 64"><image id="image0" width="296" height="64" x="0" y="0" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASgAAABACAMAAACeCRqoAAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA21BMVEVHcEzg6c32vEzrd03o d07od032sk5Aucg6x5w1x5o1xpo4xppGttW/4Lz2t0zrdkvqdkzefFa3t39CvsY0x5r///////// //////////////////////////////////85x5n////////////3ykv3ykv////3ykr4y0v////3 ykv3ykv3yUr4ykv///////+dpHb////3ykuInJFRuLvzyU5HruJnp8PKwnFIr+JGr+KWu55yxoNH r+PyskqZnG9+t7SlvZLqdUs0xpr////2yUrvkktGruKrwIS9CbWWAAAAQnRSTlMACElgg50hWJHB 3HQ6Aze/8+YQH/MQUYWs1u3Itn9FGKm9YJ7yjJLfWjObzrluJG2id397/q3A0P6L8PHn3vva0fH5 WCX+AAAAAWJLR0QV5dj5owAAAAd0SU1FB+QHDQgLM1N8HpwAAAqPSURBVHja5Zx9X+I6FoBbUFEk yDuUIkhBlAHh4o7c0R3unVVc/f6faGmbnJOcJKUozsxez2/+GNskbZ+e91QdR4ibyR4cHmSPnERx c8cn+Xz+5LTAnE8pxbPSYyzlg4p1VPW49iQkf/oJUR2dPUpSOrAgOEVMEarqr77vny3Z0qMqZyal co+fiNRyv/rOfzKnR03KuqtyT550+VSkMo8GKVFSRk5PtcKvvvufJ5WSEVSRjJI45U/QV50kLV1v NFteu71ue37nvFv/8EfpfWh4OQDHlC0eZQ9KWzjVTkP/Vb3Yanxuo79WxQ9cOqjZiaS7h+eoDzZv pNXbYQYrDp9jGWaMAy7F6ZCGUKhS1mGM8QAYccoirEoeNKjqhK+NObktKtVor3Vpj9QHqfPj/T1w 8uIr7EKq+CzkyhS9ruF0hIPrUxbOH8QOKotqVUVOuOApP2TMEcb9tVnawQeBGvClOrtMugQUX/ST R0Lfni/DHw9jTofSiCg7jywyQzlJtsPydttrru3Sl3zVHkGBArs7TGITIKUb31ScmkSurxyDIj6J e65S1srJcXhadapdwR2sk8RD69gjKFh+Jy+FWqMZ3404M4wTAO6iyDDw8FmJ04UaVLiXOtY4dYi1 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 AABJRU5ErkJggg=="/></svg></span><span class="text-uppercase font-weight-bold">ChainX Docs</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=../../../docs/chainx/><span class=active>ChainX</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=../../../docs/sherpax/><span>SherpaX</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/chainx-org/ChainX target=_blank><span>GitHub</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../zh/docs/chainx/validators/>中文</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../zh/docs/chainx/validators/>中文</a></div></div><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Docs</a></li><ul><li class="collapse show" id=docs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/chainx/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">ChainX</a></li><ul><li class="collapse show" id=docschainx><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/chainx/overview/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a></li><ul><li class=collapse id=docschainxoverview></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/chainx/users/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">User guide</a></li><ul><li class=collapse id=docschainxusers><a class="td-sidebar-link td-sidebar-link__page" id=m-docschainxusersassets_manage href=../../../docs/chainx/users/assets_manage/>Asset Management</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docschainxusersgovernment href=../../../docs/chainx/users/government/>On-chain governance</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docschainxusersxbtc_staking href=../../../docs/chainx/users/xbtc_staking/>BTC Staking</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docschainxuserspcx_staking href=../../../docs/chainx/users/pcx_staking/>PCX Staking</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/chainx/validators/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Validator guide</a></li><ul><li class="collapse show" id=docschainxvalidators></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/chainx/developers/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developer doc</a></li><ul><li class=collapse id=docschainxdevelopers><a class="td-sidebar-link td-sidebar-link__page" id=m-docschainxdevelopersfaq href=../../../docs/chainx/developers/faq/>FAQ</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docschainxdevelopersrpc href=../../../docs/chainx/developers/rpc/>RPC</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docschainxdevelopersjs-sdk href=../../../docs/chainx/developers/js-sdk/>JS-SDK</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docschainxdevelopersdevops href=../../../docs/chainx/developers/devops/>Node operation and maintenance</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docschainxdevelopersexchanges href=../../../docs/chainx/developers/exchanges/>Exchange docking</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/chainx/bridges/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Asset Transfer Bridge/Gateway</a></li><ul><li class=collapse id=docschainxbridges><a class="td-sidebar-link td-sidebar-link__page" id=m-docschainxbridgestrustee href=../../../docs/chainx/bridges/trustee/>Trust</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docschainxbridgesbitcoin href=../../../docs/chainx/bridges/bitcoin/>Bitcoin Transfer Bridge/Gateway</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/chainx/trouble-shooting/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Trouble shooting</a></li><ul><li class=collapse id=docschainxtrouble-shooting></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/sherpax/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">SherpaX</a></li><ul><li class=collapse id=docssherpax><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/sherpax/overview/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a></li><ul><li class=collapse id=docssherpaxoverview></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/sherpax/users/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">User guide</a></li><ul><li class=collapse id=docssherpaxusers><a class="td-sidebar-link td-sidebar-link__page" id=m-docssherpaxusersassets_manage href=../../../docs/sherpax/users/assets_manage/>asset Management</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docssherpaxusersgovernment href=../../../docs/sherpax/users/government/>On-chain governance</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/sherpax/developers/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developer doc</a></li><ul><li class=collapse id=docssherpaxdevelopers><a class="td-sidebar-link td-sidebar-link__page" id=m-docssherpaxdevelopersevm href=../../../docs/sherpax/developers/evm/>EVM</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/sherpax/soswap/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">SoSwap</a></li><ul><li class=collapse id=docssherpaxsoswap></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../docs/sherpax/trouble-shooting/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Trouble shooting</a></li><ul><li class=collapse id=docssherpaxtrouble-shooting></li></ul></ul></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/chainx-org/documentation/edit/master/content/en/docs/chainx/Validators/_index.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/chainx-org/documentation/issues/new?title=Validator%20guide" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a>
<a href=https://github.com/chainx-org/ChainX/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>Create project issue</a></div><nav id=TableOfContents><ul><li><a href=#1-preparations>1. Preparations</a><ul><li><a href=#11-a-vps>1.1 A VPS</a></li><li><a href=#12-install-the-chainx-program>1.2 Install the <code>chainx</code> program</a></li><li><a href=#13-sync-to-the-latest-state-of-the-chain>1.3 Sync to the latest state of the chain</a></li><li><a href=#14-registering-an-account>1.4 Registering an Account</a></li></ul></li><li><a href=#2-register-the-node>2. Register the node</a></li><li><a href=#3-set-session-keys>3. Set Session Keys</a></li><li><a href=#4-backup-node>4. Backup node</a></li><li><a href=#5-verify-block>5. Verify block</a></li><li><a href=#6-validation-node-withdrawal-deselected-node-has-no-income-and-does-not-participate-in-any-staking-activities>6. Validation node withdrawal (deselected node has no income and does not participate in any staking activities)</a><ul><li><a href=#61-penalty-to-withdraw>6.1 Penalty to withdraw</a></li><li><a href=#62-active-withdrawal-if-the-verification-node-does-not-actively-withdraw-it-will-be-punished-by-the-system>6.2 Active withdrawal (if the verification node does not actively withdraw, it will be punished by the system)</a></li><li><a href=#63-manual-election>6.3 Manual election</a></li></ul></li><li><a href=#7-precautions>7. Precautions</a></li><li><a href=#8-node-penalty>8. Node Penalty</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://chainx-org.github.io/documentation/docs/>Docs</a></li><li class=breadcrumb-item><a href=https://chainx-org.github.io/documentation/docs/chainx/>ChainX</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://chainx-org.github.io/documentation/docs/chainx/validators/>Validator guide</a></li></ol></nav><div class=td-content><h1>Validator guide</h1><div class=lead>ChainX validator guide</div><div class="pageinfo pageinfo-primary"><p>Validation Node Guide</p></div><h2 id=1-preparations>1. Preparations</h2><h3 id=11-a-vps>1.1 A VPS</h3><p>The easiest way is to use a cloud hosting, you are free to choose any hosting provider.</p><h4 id=111-testnet-hardware-configuration>1.1.1 Testnet hardware configuration</h4><ul><li>CPU 2 cores, memory 2G, bandwidth 1M, operating system Ubuntu 20.04+.</li></ul><h4 id=112-mainnet-hardware-configuration>1.1.2 Mainnet hardware configuration</h4><p>Taking Alibaba Cloud as an example, the recommended configuration for the ChainX mainnet is no less than: CPU 4 cores, memory 4G, bandwidth 10M, disk use SSD 300G+, operating system 20.04+.</p><h3 id=12-install-the-chainx-program>1.2 Install the <code>chainx</code> program</h3><h4 id=121-compiling-from-source>1.2.1 Compiling from source</h4><p>Install related dependencies, take ubuntu 20.04 as an example</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo apt update -y
sudo apt install --no-install-recommends -y <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>     git curl ca-certificates <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>     gcc g++ cmake clang
</code></pre></div><p>We assume you have Rust nightly and <code>wasm32-unknown-unknown</code> installed:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ rustup install nightly-2021-11-07
$ rustup override <span style=color:#038>set</span> nightly-2021-11-07
$ rustup target add wasm32-unknown-unknown --toolchain nightly-2021-11-07
</code></pre></div><p>Next, you need to follow the steps below to complete the compilation:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git clone https://github.com/chainx-org/ChainX
$ <span style=color:#038>cd</span> ChainX
<span style=color:#888># switch to the latest tag</span>
$ git checkout <span style=color:#080;font-weight:700>$(</span>git describe --tags <span style=color:#080;font-weight:700>$(</span>git rev-list --tags --max-count=1<span style=color:#080;font-weight:700>))</span>
<span style=color:#888># Compile the binaries for the Release version</span>
$ cargo build --release
</code></pre></div><p>After compilation, the <code>chainx</code> program will be in the <code>target/release/</code> directory.</p><h4 id=122-download-the-compiled-binary-directly>1.2.2 Download the compiled binary directly</h4><p>Download the provided compiled binaries from the <a href=https://github.com/chainx-org/ChainX/releases>GitHub release(https://github.com/chainx-org/ChainX/releases)</a> page.</p><h3 id=13-sync-to-the-latest-state-of-the-chain>1.3 Sync to the latest state of the chain</h3><blockquote><h4 id=how-to-sync-blocks-from-genesisblock-0><code>How to sync blocks from genesis(block #0)</code></h4><ul><li>(0) You should know <a href=https://github.com/chainx-org/ChainX/issues/609>Debug: panicked at &lsquo;Storage root must match that calculated ' #609</a>
<strong>if you use ChainX v4.x.x directly sync blocks will be stuck at #881910</strong> or other block.</li><li>(1) Compile <a href=https://github.com/chainx-org/ChainX/tree/v3.0.0>ChainX v3.0.0</a> by <code>nightly-2020-09-30</code> or Download <a href=https://github.com/chainx-org/ChainX/releases/download/v3.0.0/chainx-v3.0.0-ubuntu20.04-x86_64-unknown-linux-gnu-1>chainx-v3.0.0-ubuntu20.04-x86_64-unknown-linux-gnu-1</a>
the ChainX v3.0.0 seed nodes are bad, so you should use new mainnet bootnodes with <code>--bootnodes</code></li></ul><pre><code>&quot;/ip4/52.77.243.26/tcp/23555/ws/p2p/12D3KooWQ6GGfmvmmmsbKRmZqMA3A8rxaHz25HvA7JNBbcZhLXtk&quot;
&quot;/ip4/120.26.57.227/tcp/36789/ws/p2p/12D3KooWEAX2BcQCZP79MuxQpqLQUop7P3tZY97eNxxUgc4ZTu3k&quot;
&quot;/ip4/47.114.74.52/tcp/36789/ws/p2p/12D3KooWJPMUkGytfAMt3AMqm4AFn4VToXjbWZoC4Z2NxXNXvTwb&quot;
</code></pre><ul><li>(2) Until <strong>#3038400</strong>, please use ChainX v3.0.0 to synchronize with <code>NativeElseWasm (default mode)</code></li><li>(3) For blocks after <strong>#3038400</strong>, complete (2) first, and then replace ChainX v3.0.0 with ChainX v4.x.x to complete the db migration (note that the migration process is irreversible, it is recommended to back up the data first)</li><li>(4) ChainX v4.x.x continues to synchronize blocks</li></ul></blockquote><p>Start syncing the blockchain with the following command:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ./chainx-v3.0.0 --chain=mainnet --pruning=archive <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  --bootnodes=<span style=color:#d20;background-color:#fff0f0>&#34;/ip4/52.77.243.26/tcp/23555/ws/p2p/12D3KooWQ6GGfmvmmmsbKRmZqMA3A8rxaHz25HvA7JNBbcZhLXtk&#34;</span> <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  --bootnodes=<span style=color:#d20;background-color:#fff0f0>&#34;/ip4/120.26.57.227/tcp/36789/ws/p2p/12D3KooWEAX2BcQCZP79MuxQpqLQUop7P3tZY97eNxxUgc4ZTu3k&#34;</span>

<span style=color:#888># until block #3038400</span>
$ ./chainx-v4.2.0 --chain=mainnet --pruning=archive 
</code></pre></div><p>After the synchronization is complete, restart the node in validator mode:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ./chainx --chain=mainnet --validator
</code></pre></div><p>Or start in validator mode directly to sync:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#888># When using --validator, the archive mode will be enabled by default, i.e. --pruning=archive</span>
$ ./chainx --chain=mainnet --validator
</code></pre></div><p>However, note that you must wait for the synchronization to complete and set the Session Keys before letting the node participate in the election.</p><blockquote><p>If there is a synchronization exception, please ensure that the system time and network time are consistent, and then perform synchronization after deleting the database.</p></blockquote><h4 id=131-configuration-file>1.3.1 Configuration file</h4><p>For validator nodes, we recommend the following configuration:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#b06;font-weight:700>&#34;log-dir&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;./log&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>log</span> <span style=color:#a61717;background-color:#e3d2d2>directory</span>
  <span style=color:#b06;font-weight:700>&#34;enable-console-log&#34;</span>: <span style=color:#080;font-weight:700>false</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>also</span> <span style=color:#a61717;background-color:#e3d2d2>output</span> <span style=color:#a61717;background-color:#e3d2d2>log</span> <span style=color:#a61717;background-color:#e3d2d2>to</span> <span style=color:#a61717;background-color:#e3d2d2>console</span>
  <span style=color:#b06;font-weight:700>&#34;no-mdns&#34;</span>: <span style=color:#080;font-weight:700>true</span>,
  <span style=color:#b06;font-weight:700>&#34;validator&#34;</span>: <span style=color:#080;font-weight:700>true</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>validator</span> <span style=color:#a61717;background-color:#e3d2d2>node</span> <span style=color:#a61717;background-color:#e3d2d2>must</span> <span style=color:#a61717;background-color:#e3d2d2>be</span> <span style=color:#a61717;background-color:#e3d2d2>true,</span> <span style=color:#a61717;background-color:#e3d2d2>default</span> <span style=color:#a61717;background-color:#e3d2d2>is</span> <span style=color:#a61717;background-color:#e3d2d2>false</span>
  <span style=color:#b06;font-weight:700>&#34;unsafe-ws-external&#34;</span>: <span style=color:#080;font-weight:700>true</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>The</span> <span style=color:#a61717;background-color:#e3d2d2>validator</span> <span style=color:#a61717;background-color:#e3d2d2>node</span> <span style=color:#a61717;background-color:#e3d2d2>recommends</span> <span style=color:#a61717;background-color:#e3d2d2>closing</span> <span style=color:#a61717;background-color:#e3d2d2>the</span> <span style=color:#a61717;background-color:#e3d2d2>external</span> <span style=color:#a61717;background-color:#e3d2d2>ws</span> <span style=color:#a61717;background-color:#e3d2d2>port</span>
  <span style=color:#b06;font-weight:700>&#34;unsafe-rpc-external&#34;</span>: <span style=color:#080;font-weight:700>true</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>The</span> <span style=color:#a61717;background-color:#e3d2d2>validator</span> <span style=color:#a61717;background-color:#e3d2d2>node</span> <span style=color:#a61717;background-color:#e3d2d2>recommends</span> <span style=color:#a61717;background-color:#e3d2d2>closing</span> <span style=color:#a61717;background-color:#e3d2d2>the</span> <span style=color:#a61717;background-color:#e3d2d2>external</span> <span style=color:#a61717;background-color:#e3d2d2>rpc</span> <span style=color:#a61717;background-color:#e3d2d2>port</span>
  <span style=color:#b06;font-weight:700>&#34;rpc-methods&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;unsafe&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;log&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;info,runtime=info&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;port&#34;</span>: <span style=color:#00d;font-weight:700>20222</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>specify</span> <span style=color:#a61717;background-color:#e3d2d2>the</span> <span style=color:#a61717;background-color:#e3d2d2>tcp</span> <span style=color:#a61717;background-color:#e3d2d2>port</span> <span style=color:#a61717;background-color:#e3d2d2>of</span> <span style=color:#a61717;background-color:#e3d2d2>the</span> <span style=color:#a61717;background-color:#e3d2d2>p2p</span> <span style=color:#a61717;background-color:#e3d2d2>protocol</span>
  <span style=color:#b06;font-weight:700>&#34;ws-port&#34;</span>: <span style=color:#00d;font-weight:700>8087</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>Specify</span> <span style=color:#a61717;background-color:#e3d2d2>the</span> <span style=color:#a61717;background-color:#e3d2d2>RPC</span> <span style=color:#a61717;background-color:#e3d2d2>service</span> <span style=color:#a61717;background-color:#e3d2d2>port</span> <span style=color:#a61717;background-color:#e3d2d2>of</span> <span style=color:#a61717;background-color:#e3d2d2>websocket</span>
  <span style=color:#b06;font-weight:700>&#34;rpc-port&#34;</span>: <span style=color:#00d;font-weight:700>8086</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>Specify</span> <span style=color:#a61717;background-color:#e3d2d2>the</span> <span style=color:#a61717;background-color:#e3d2d2>RPC</span> <span style=color:#a61717;background-color:#e3d2d2>service</span> <span style=color:#a61717;background-color:#e3d2d2>port</span> <span style=color:#a61717;background-color:#e3d2d2>of</span> <span style=color:#a61717;background-color:#e3d2d2>http</span>
  <span style=color:#b06;font-weight:700>&#34;pruning&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;archive&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>It</span> <span style=color:#a61717;background-color:#e3d2d2>is</span> <span style=color:#a61717;background-color:#e3d2d2>strongly</span> <span style=color:#a61717;background-color:#e3d2d2>recommended</span> <span style=color:#a61717;background-color:#e3d2d2>to</span> <span style=color:#a61717;background-color:#e3d2d2>add</span> <span style=color:#a61717;background-color:#e3d2d2>this</span> <span style=color:#a61717;background-color:#e3d2d2>configuration</span> <span style=color:#a61717;background-color:#e3d2d2>to</span> <span style=color:#a61717;background-color:#e3d2d2>start</span> <span style=color:#a61717;background-color:#e3d2d2>in</span> <span style=color:#a61717;background-color:#e3d2d2>archive</span> <span style=color:#a61717;background-color:#e3d2d2>mode</span>
  <span style=color:#b06;font-weight:700>&#34;execution&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;NativeElseWasm&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;db-cache&#34;</span>: <span style=color:#00d;font-weight:700>2048</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>Set</span> <span style=color:#a61717;background-color:#e3d2d2>the</span> <span style=color:#a61717;background-color:#e3d2d2>cache</span> <span style=color:#a61717;background-color:#e3d2d2>of</span> <span style=color:#a61717;background-color:#e3d2d2>the</span> <span style=color:#a61717;background-color:#e3d2d2>node</span> <span style=color:#a61717;background-color:#e3d2d2>database,</span> <span style=color:#a61717;background-color:#e3d2d2>the</span> <span style=color:#a61717;background-color:#e3d2d2>unit</span> <span style=color:#a61717;background-color:#e3d2d2>is</span> <span style=color:#a61717;background-color:#e3d2d2>MB,</span> <span style=color:#a61717;background-color:#e3d2d2>that</span> <span style=color:#a61717;background-color:#e3d2d2>is,</span> <span style=color:#a61717;background-color:#e3d2d2>2GB</span> <span style=color:#a61717;background-color:#e3d2d2>here</span>
  <span style=color:#b06;font-weight:700>&#34;state-cache-size&#34;</span>: <span style=color:#00d;font-weight:700>2147483648</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>Set</span> <span style=color:#a61717;background-color:#e3d2d2>the</span> <span style=color:#a61717;background-color:#e3d2d2>node</span> <span style=color:#a61717;background-color:#e3d2d2>state</span> <span style=color:#a61717;background-color:#e3d2d2>tree</span> <span style=color:#a61717;background-color:#e3d2d2>cache,</span> <span style=color:#a61717;background-color:#e3d2d2>unit</span> <span style=color:#a61717;background-color:#e3d2d2>B,</span> <span style=color:#a61717;background-color:#e3d2d2>which</span> <span style=color:#a61717;background-color:#e3d2d2>is</span> <span style=color:#a61717;background-color:#e3d2d2>2GB</span> <span style=color:#a61717;background-color:#e3d2d2>here</span> <span style=color:#a61717;background-color:#e3d2d2>(2GB</span> <span style=color:#a61717;background-color:#e3d2d2>=</span> <span style=color:#a61717;background-color:#e3d2d2>2</span> <span style=color:#a61717;background-color:#e3d2d2>*</span> <span style=color:#a61717;background-color:#e3d2d2>1024</span> <span style=color:#a61717;background-color:#e3d2d2>*</span> <span style=color:#a61717;background-color:#e3d2d2>1024)</span>
  <span style=color:#b06;font-weight:700>&#34;name&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;Your-Node-Name&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>Node</span> <span style=color:#a61717;background-color:#e3d2d2>name</span> <span style=color:#a61717;background-color:#e3d2d2>displayed</span> <span style=color:#a61717;background-color:#e3d2d2>in</span> <span style=color:#a61717;background-color:#e3d2d2>Node</span> <span style=color:#a61717;background-color:#e3d2d2>Browser</span> <span style=color:#a61717;background-color:#e3d2d2>Telemetry</span>
  <span style=color:#b06;font-weight:700>&#34;base-path&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;data&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>database</span> <span style=color:#a61717;background-color:#e3d2d2>path,</span> <span style=color:#a61717;background-color:#e3d2d2>the</span> <span style=color:#a61717;background-color:#e3d2d2>default</span> <span style=color:#a61717;background-color:#e3d2d2>under</span> <span style=color:#a61717;background-color:#e3d2d2>linux</span> <span style=color:#a61717;background-color:#e3d2d2>is</span> <span style=color:#a61717;background-color:#e3d2d2>`$HOME/.local/share/chainx/chains/$CHAIN_TYPE/db`</span>
  <span style=color:#b06;font-weight:700>&#34;bootnodes&#34;</span>: [
    <span style=color:#d20;background-color:#fff0f0>&#34;/ip4/120.26.57.227/tcp/36789/ws/p2p/12D3KooWEAX2BcQCZP79MuxQpqLQUop7P3tZY97eNxxUgc4ZTu3k&#34;</span>,
    <span style=color:#d20;background-color:#fff0f0>&#34;/ip4/47.114.74.52/tcp/36789/ws/p2p/12D3KooWJPMUkGytfAMt3AMqm4AFn4VToXjbWZoC4Z2NxXNXvTwb&#34;</span>
  ] <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>Seed</span> <span style=color:#a61717;background-color:#e3d2d2>node</span>, <span style=color:#a61717;background-color:#e3d2d2>use</span> <span style=color:#a61717;background-color:#e3d2d2>built-in</span> <span style=color:#a61717;background-color:#e3d2d2>seed</span> <span style=color:#a61717;background-color:#e3d2d2>node</span> <span style=color:#a61717;background-color:#e3d2d2>when</span> <span style=color:#a61717;background-color:#e3d2d2>empty</span> <span style=color:#a61717;background-color:#e3d2d2>list</span>
}
</code></pre></div><p>Some rpc services are sensitive operations. If they need to be exposed to the public network, it is recommended to use a proxy server for filtering (see: [https://github.com/paritytech/substrate/wiki/Public-RPC](<a href=https://github.com/paritytech/substrate/wiki/Public-RPC%5D(https://github.com/paritytech/substrate/wiki/Public-RPC)>https://github.com/paritytech/substrate/wiki/Public-RPC](https://github.com/paritytech/substrate/wiki/Public-RPC)</a> com/paritytech/substrate/wiki/Public-RPC)).</p><p>If you know and understand the associated risks, you can include the <code>--rpc-methods unsafe</code> parameter when starting the node.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt>{
---snip---
  &#34;unsafe-ws-external&#34;: true, // replace ws-external
  &#34;unsafe-rpc-external&#34;: true, // replace rpc-external
  &#34;rpc-methods&#34;: &#34;unsafe&#34;,
---snip---
}
</code></pre></div><p>After your node has successfully started, you can see your node on <a href=https://telemetry.chainx.org>ChainX Telemetry</a> or <a href=https://telemetry.polkadot.io/#list/ChainX>Polkadot Telemetry</a>.</p><h4 id=132-using-docker-images>1.3.2 Using docker images</h4><p>Put the above configuration file in the current directory, name it <code>config.json</code>, and remove the commented part. Run the following command:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cat ./config.json
{
  <span style=color:#d20;background-color:#fff0f0>&#34;log-dir&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;/log&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;enable-console-log&#34;</span>: false,
  <span style=color:#d20;background-color:#fff0f0>&#34;no-mdns&#34;</span>: true,
  <span style=color:#d20;background-color:#fff0f0>&#34;validator&#34;</span>: true,
  <span style=color:#d20;background-color:#fff0f0>&#34;unsafe-ws-external&#34;</span>: true,
  <span style=color:#d20;background-color:#fff0f0>&#34;unsafe-rpc-external&#34;</span>: true,
  <span style=color:#d20;background-color:#fff0f0>&#34;rpc-methods&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;unsafe&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;log&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;info,runtime=info&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;port&#34;</span>: 20222,
  <span style=color:#d20;background-color:#fff0f0>&#34;ws-port&#34;</span>: 8087,
  <span style=color:#d20;background-color:#fff0f0>&#34;rpc-port&#34;</span>: 8086,
  <span style=color:#d20;background-color:#fff0f0>&#34;pruning&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;archive&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;execution&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;NativeElseWasm&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;db-cache&#34;</span>: 2048,
  <span style=color:#d20;background-color:#fff0f0>&#34;state-cache-size&#34;</span>: 2147483648,
  <span style=color:#d20;background-color:#fff0f0>&#34;name&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;Your-Node-Name&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;base-path&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;/data&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;bootnodes&#34;</span>: []
}
</code></pre></div><p>Run the following command to start the node directly in the background (refer to the previous section to synchronize blocks from the genesis block)</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker pull chainxorg/chainx:v4.2.0
docker run -d --restart always --name chainx <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  -p 8086:8086 -p 8087:8087 -p 20222:20222 <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  -v <span style=color:#369>$PWD</span>/config.json:/config.json -v <span style=color:#369>$PWD</span>/data:/data <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  -v <span style=color:#369>$PWD</span>/log:/log -v <span style=color:#369>$PWD</span>/keystore:/keystore <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  chainxorg/chainx:v4.2.0 /usr/local/bin/chainx <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  --config /config.json
</code></pre></div><p>Among them, each parameter is the corresponding parameter in the configuration file, and the docker running in the background can pass:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#369>$tail</span> -f log/chainx.log <span style=color:#888># View all logs</span>
</code></pre></div><p>When the start synchronization block appears in the log, it means that the node has started successfully.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>......
2021-04-02 03:05:43:700 INFO tokio-runtime-worker substrate ⚙️ Syncing, target=#1834748 (4 peers), best: #251 (0x4d58…0729), finalized #0 (0x012c…4810), ⬇ 175.1kiB/s ⬆ 11.6kiB/s
2021-04-02 03:05:48:700 INFO tokio-runtime-worker substrate ⚙️ Syncing 74.4 bps, target=#1834748 (7 peers), best: #623 (0xe3ce…db06), finalized #601 (0x78d1…b55e), ⬇ 54.0kiB/s ⬆ 6.0kiB/s
......
</code></pre></div><p>If you need to use rpc service externally, you need to add <code>ws-external: true</code> and <code>rpc-external: true</code> to the configuration file. Refer to [above](#config file) for other options.</p><p>When configuring, it is recommended to change the <code>name</code> item in the configuration file.</p><p>The port mapping must be consistent with that in <code>config.json</code>, otherwise rpc will not work properly.</p><h3 id=14-registering-an-account>1.4 Registering an Account</h3><p>You can register an account on <a href=https://dapp.chainx.org/>ChainX Wallet(https://dapp.chainx.org/)</a>, and transfer a little PCX to the account as transaction fee and subsequent collateral and other expenses.
<img src=../../../images/add-account.png alt=add-account></p><h2 id=2-register-the-node>2. Register the node</h2><p>After successful registration, you can register a node on the <a href=https://dapp.chainx.org/#/staking><code>Network>Staking(https://dapp.chainx.org/#/staking)</code></a> page.</p><p><img src=../../../images/register-node.png alt=register-node></p><p>Each account can only be registered once. In addition, you need to ensure that you have enough balance to pay the transaction fee before registering. Newly registered nodes are elected by default, and you do not need to perform any additional operations. In addition to the initial pledge coins when registering a node, you can also pledge again by <strong>voting</strong>. After the election time, the top 40 nodes with total pledged amount will become validators to participate in the consensus.</p><p><img src=../../../images/bond.png alt=rebond></p><h2 id=3-set-session-keys>3. Set Session Keys</h2><p>You can generate Session Keys by executing the following command on the machine running the node:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ curl -H <span style=color:#d20;background-color:#fff0f0>&#34;Content-Type: application/json&#34;</span> -d <span style=color:#d20;background-color:#fff0f0>&#39;{&#34;id&#34;:1, &#34;jsonrpc&#34;:&#34;2.0&#34;, &#34;method&#34;: &#34;author_rotateKeys&#34;, &#34;params&#34;:[]}&#39;</span> http://localhost:<span style=color:#369>$YOUR_RPC_PORT</span>
</code></pre></div><p>Among them, <code>YOUR_RPC_PORT</code> is the port specified by <code>rpc-port</code> when starting the node. If not specified, the default port is 8086.</p><p>The returned results are as follows:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#b06;font-weight:700>&#34;jsonrpc&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;2.0&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;result&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;0x42a7d53603bac173eb96e4ac133e35bcd4a49f308387a0e748b6f6a6dbf5635313f065a67a42a78a2c3e261a63523d92d4e03f9e7c9bba7c3d13b13b6983f0724c46b00699362a374f3fe43dd668eae6fcd815d0b84f88998ca5fc1c41e09b2412e2b9d3a322d9229a24cbce31d53358edc77b6fbaca7d038247743f40b6f205&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;id&#34;</span>: <span style=color:#00d;font-weight:700>1</span>
}
</code></pre></div><p>Among them, the <code>result</code> field is the obtained Session Keys, and then set it through <code>setKeys</code> in <a href=https://dapp.chainx.org/#/chainstate/extrinsics><code>Developer>Extrinsic</code></a>:</p><p><img src=../../../images/setkeys.png alt=setKeys></p><ul><li>Currently, <code>proof</code> can be filled with <code>0x00</code>.</li></ul><p>Call <code>nextKey</code> to verify that it is set correctly.</p><h2 id=4-backup-node>4. Backup node</h2><p>Due to the abnormal block generation caused by improper node deployment, it will be punished to a certain extent. Therefore, additional backup nodes can be deployed, and the backup nodes are started in <code>--pruning=archive</code> mode, so that when the primary node fails, the backup node can be used instead of work to avoid being punished.</p><h2 id=5-verify-block>5. Verify block</h2><p>After being elected as a validator, if you see <code>Prepared block for proposing at ...</code> in the log, it means that the node has successfully produced a block.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>......
Nov 04 10:12:06.008  INFO 🙌 Starting consensus session on top of parent 0x6dd1e2edbf490ade94e944b09738c258921655708f6c2b5b8a63b5e38d02ac16
Nov 04 10:12:06.009  INFO 🎁 Prepared block for proposing at 4 [hash: 0x6740b08d96a329c9be13290760d15a537f3bd6635c85261b63e44395ad830b36; parent_hash: 0x6dd1…ac16; extrinsics (2): [0xe497…419a, 0x3af6…b467]]
Nov 04 10:12:06.012  INFO 🔖 Pre-sealed block for proposal at 4. Hash now 0x66f1579117b6aba16d4f57ae7ddf19ad209c8077a4f4f78ed4cb80877754a0f5, previously 0x6740b08d96a329c9be13290760d15a537f3bd6635c85261b63e44395ad830b36.
......
</code></pre></div><h2 id=6-validation-node-withdrawal-deselected-node-has-no-income-and-does-not-participate-in-any-staking-activities>6. Validation node withdrawal (deselected node has no income and does not participate in any staking activities)</h2><h3 id=61-penalty-to-withdraw>6.1 Penalty to withdraw</h3><p>When the verification node reward pool is punished to 0 or other penalties, the verification node is kicked out of the current verification node set and becomes an opt-out node.
If you want to re-participate in staking, you need to participate in the election manually.</p><h3 id=62-active-withdrawal-if-the-verification-node-does-not-actively-withdraw-it-will-be-punished-by-the-system>6.2 Active withdrawal (if the verification node does not actively withdraw, it will be punished by the system)</h3><p>Click <code>Drop</code> in the upper right corner
<img src=../../../images/drop1.png alt=drop1>
<img src=../../../images/drop2.png alt=drop2></p><p>Or at <a href=https://dapp.chainx.org/#/chainstate/extrinsics><code>Developer>Extrinsic</code></a>
Setup via <code>chill</code>
<img src=../../../images/drop3.png alt=drop3></p><h3 id=63-manual-election>6.3 Manual election</h3><p>Click <code>Candidate</code> in the upper right corner
<img src=../../../images/candidate1.png alt=candidate1>
<img src=../../../images/candidate2.png alt=candidate2></p><p>Or at <a href=https://dapp.chainx.org/#/chainstate/extrinsics><code>Developer>Extrinsic</code></a>
Set via <code>validate</code>
<img src=../../../images/candidate3.png alt=candidate3></p><h2 id=7-precautions>7. Precautions</h2><ul><li>Before the first halving, each session will be about 5 minutes and a total of 50 PCX will be issued.</li><li>A validator election is held every 12 sessions.</li><li>If the node&rsquo;s self-mortgage is less than 1PCX or the total number of votes is less than 10PCX, it will be forced to withdraw from the election when the validator is elected.</li><li>After ChainX v4.2.0, <a href=https://github.com/chainx-org/ChainX/pull/625>validator nodes in candidate state are neither rewarded nor penalized</a></li></ul><h2 id=8-node-penalty>8. Node Penalty</h2><p>ChainX will issue rewards in each session and punish nodes that may do evil. The types of punishment generally include node double-signature and node offline. Once a node is found to be evil, all the rewards that the evil node deserves in the session will be punished into the treasury, and the node reward pool will be punished according to the evil coefficient reported on the chain, namely:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>penalty = max(session_reward + reward_pot_balance * F, minimum_penalty)
</code></pre></div><ul><li><code>penalty</code>: penalty amount</li><li><code>session_reward</code>: node&rsquo;s session reward</li><li><code>reward_pot_balance</code>: Node reward pool amount</li><li><code>F</code>: Penalty coefficient, calculated by babe and im-online modules:<ul><li>babe: <a href=https://wiki.polkadot.network/docs/en/learn-staking/#babe-equivocation>node double-sign penalty details</a>, [frame/babe/src/equivocation.rs](https:/ /github.com/paritytech/substrate/blob/c60f00840034017d4b7e6d20bd4fcf9a3f5b529a/frame/babe/src/equivocation.rs#L265).</li><li>im-online: <a href=https://wiki.polkadot.network/docs/en/learn-staking/#unresponsiveness>node offline penalty details</a>, [frame/im-online/src/lib.rs](https: //github.com/paritytech/substrate/blob/c60f00840034017d4b7e6d20bd4fcf9a3f5b529a/frame/im-online/src/lib.rs#L771).</li></ul></li><li><code>minimum_penalty</code>: The minimum penalty value, that is, at least <code>minimum_penalty</code> for each penalty.</li></ul><p>ChainX nodes do not punish the principal, but punish the node reward pool. When the node reward pool is exhausted, the node will be forced to withdraw from the election.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Rust data-lang=Rust><span style=color:#080;font-weight:700>if</span><span style=color:#bbb> </span>penalty<span style=color:#bbb> </span>&gt;<span style=color:#bbb> </span>reward_pot_balance<span style=color:#bbb> </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#888>// force the validator(offender) to be chilled
</span><span style=color:#888></span>}<span style=color:#bbb>
</span></code></pre></div><div class=section-index><hr class=panel-line></div><div class="text-muted mt-5 pt-3 border-top">Last modified April 24, 2022: <a href=https://github.com/chainx-org/documentation/commit/e735fd108878671d0483cb5a7632fd2a94e96331>update (e735fd1)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://hi@chainx.org><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/chainx_org><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/chainx-org/ChainX><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Telegram aria-label=Telegram><a class=text-white target=_blank href=https://t.me/chainx_org><i class="fab fa-telegram"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 The ChainX Organization All Rights Reserved</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=../../../js/main.min.b6dfd66b2d261380250c517fd39bc9d8659709e9fc924b00d8fed92e8d9df768.js integrity="sha256-tt/Way0mE4AlDFF/05vJ2GWXCen8kksA2P7ZLo2d92g=" crossorigin=anonymous></script></body></html>