---
title: "2.0 迁移指南"
linkTitle: "Migration"
weight: 20
date: 2020-09-25
description: >
  ChainX 1.0 升级至 2.0 的状态迁移指南
---

ChainX 主网自 2019 年 5 月 25 日主网上线，是波卡生态基于 Substrate 框架的第一条链, 目前已经通过内置比特币轻节点的方式实现了比特币资产跨链，并稳定运行至今。由于 ChainX 上线非常早，其底层框架是基于早期的 Substrate 1.0, 而 [Substrate 2.0](https://www.parity.io/substrate-2-0-is-here/) 已于 2020 年 9 月正式发布，不仅加入了很多新的功能模块，链上治理等功能模块也更加完善并得到充分验证。为了引入链上治理开启 ChainX 社区治理的新篇章，以及支持未来接入波卡平行链生态等，当前基于 Substrate 1.0 的 ChainX (称为 ChainX 1.0) 升级到基于 Substrate 2.0 的 ChainX 2.0 是要完成的一个首要任务。

## 2.0 状态迁移

ChainX 2.0 采用状态导出的方式进行升级，1.0 的最终状态会被导入到 2.0 的 Genesis 并以此启动整个网络, 整个升级过程用户并不需要做任何额外操作, 只需等待网络升级完成即可。针对 2.0 整个状态迁移, 各方注意点如下:

### 持币用户

#### 资产迁移

L-BTC 与 SDOT 在 ChainX 1.0 阶段已经废除，2.0 迁移完成后，用户只有 PCX 与 X-BTC 两种资产信息, 这两种资产迁移处理如下:

##### PCX 资产

用户现有的 PCX 可用余额将会同步迁移至 2.0, 链上 DEX 订单已锁定的 PCX 会被自动撤单，相关资产退回到用户的 PCX 可用余额。用户的 Staking 投票金额将会同步迁移至 2.0, 用户的投票赎回将会同步迁移至 2.0, 所有投票用户与节点在 2.0 的票龄状态将会由迁移高度结算后的各自最新票龄进行初始化.

##### X-BTC 资产

用户的 X-BTC 可用余额自动迁移至 2.0, 在链上 DEX 订单中已锁定与已申请提现的 X-BTC 将会被自动撤单，相关资产会退回到用户的 X-BTC 可用余额。

#### 地址管理

TODO: sr25519 ed25519

### 节点用户

#### 节点链上身份

在 ChainX 1.0 中，Staking 模块保留了节点的 url, about 等身份信息, 当迁移至 2.0 后，节点的这些身份信息将由链上的 Identity 模块接管，2.0 Staking 模块仅自动保留了之前的节点名作为跨链用户的推荐渠道ID, 其他身份信息当 2.0 启动后，由各节点自行通过 Identity 功能模块进行设置.

#### 节点奖池地址变更

### 交易所

### 信托

## 链上治理

### 议会
