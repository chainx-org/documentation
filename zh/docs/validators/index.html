<!doctype html><html lang=zh class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.71.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=alternate type=application/rss+xml href=https://chainx-org.github.io/documentation/zh/docs/validators/index.xml><link rel="shortcut icon" href=../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../favicons/android-192x192.png sizes=192x192><title>验证人 | ChainX 文档</title><meta property="og:title" content="验证人"><meta property="og:description" content="ChainX validator guide"><meta property="og:type" content="website"><meta property="og:url" content="https://chainx-org.github.io/documentation/zh/docs/validators/"><meta property="og:updated_time" content="2020-12-24T20:37:57+08:00"><meta property="og:site_name" content="ChainX 文档"><meta itemprop=name content="验证人"><meta itemprop=description content="ChainX validator guide"><meta name=twitter:card content="summary"><meta name=twitter:title content="验证人"><meta name=twitter:description content="ChainX validator guide"><link rel=preload href=../../../scss/main.min.e291fcabf38401f978214cbececd3bf867b81ce2f345dd8fcdb61bb530a940ee.css as=style><link href=../../../scss/main.min.e291fcabf38401f978214cbececd3bf867b81ce2f345dd8fcdb61bb530a940ee.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=../../../zh/><span class=navbar-logo><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="296" height="64" viewBox="0 0 296 64" enable-background="new 0 0 296 64"><image id="image0" width="296" height="64" x="0" y="0" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASgAAABACAMAAACeCRqoAAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA21BMVEVHcEzg6c32vEzrd03o d07od032sk5Aucg6x5w1x5o1xpo4xppGttW/4Lz2t0zrdkvqdkzefFa3t39CvsY0x5r///////// //////////////////////////////////85x5n////////////3ykv3ykv////3ykr4y0v////3 ykv3ykv3yUr4ykv///////+dpHb////3ykuInJFRuLvzyU5HruJnp8PKwnFIr+JGr+KWu55yxoNH r+PyskqZnG9+t7SlvZLqdUs0xpr////2yUrvkktGruKrwIS9CbWWAAAAQnRSTlMACElgg50hWJHB 3HQ6Aze/8+YQH/MQUYWs1u3Itn9FGKm9YJ7yjJLfWjObzrluJG2id397/q3A0P6L8PHn3vva0fH5 WCX+AAAAAWJLR0QV5dj5owAAAAd0SU1FB+QHDQgLM1N8HpwAAAqPSURBVHja5Zx9X+I6FoBbUFEk yDuUIkhBlAHh4o7c0R3unVVc/f6faGmbnJOcJKUozsxez2/+GNskbZ+e91QdR4ibyR4cHmSPnERx c8cn+Xz+5LTAnE8pxbPSYyzlg4p1VPW49iQkf/oJUR2dPUpSOrAgOEVMEarqr77vny3Z0qMqZyal co+fiNRyv/rOfzKnR03KuqtyT550+VSkMo8GKVFSRk5PtcKvvvufJ5WSEVSRjJI45U/QV50kLV1v NFteu71ue37nvFv/8EfpfWh4OQDHlC0eZQ9KWzjVTkP/Vb3Yanxuo79WxQ9cOqjZiaS7h+eoDzZv pNXbYQYrDp9jGWaMAy7F6ZCGUKhS1mGM8QAYccoirEoeNKjqhK+NObktKtVor3Vpj9QHqfPj/T1w 8uIr7EKq+CzkyhS9ruF0hIPrUxbOH8QOKotqVUVOuOApP2TMEcb9tVnawQeBGvClOrtMugQUX/ST R0Lfni/DHw9jTofSiCg7jywyQzlJtsPydttrru3Sl3zVHkGBArs7TGITIKUb31ScmkSurxyDIj6J e65S1srJcXhadapdwR2sk8RD69gjKFh+Jy+FWqMZ3404M4wTAO6iyDDw8FmJ04UaVLiXOtY4dYi1 hYHPTGqPoHxxtZ1mMcAR2xcKIrxxJFAlElgxB83aOAknRUG5sntqNWahFrJe0JKtT6y0R1ANvtR8 x3lTxWMjQTDKKT/CTY/ml0jqDwsnm+lJ/ulcNoOZhGqxf1DOIlqpues0yfhkx3JLDM9xzmjQ00nV jBZWqRmdeRctbExmBEhqtn9Qzmw+WIx3n5YxGR8mDuDkDywli5MpyaQ0Tg5POWtqlKmDO/L18NMA UIMPAPVW+aIbnwuGh2lDUeTl2nPJpHROIo26UA9DwPNMFQuaZe/3AVW5gjxAMID8So6FZ1ZS/wJS h9rqgtOTWhX3INTNTPfkeuL8/PcBJdnZLT0gO3ihUloTqlDLlzFLIHJhVihQmXPzPc0hHBpB9caN edAY23JGNg7OB61OvzVYNHYqsd3GYtTpDEaB8fWh547BoIrdKsMOzaTcTV6ApGjiymJSeRUueKi2 5VlxgA6qHohcaN0PDPMbLSUd88+Vpx73/VA6/GDD9zbiN8L/z5o40TOtjLlAlIR/UX6Shp0ZSUXR H0iV5Tk5xknVSKEHCmPNZkZihEtBzRUM7QbF5K01kXsFTfXKHVTcgKS7hsiIOcKtFAaHNMBVgFQZ SfHoD6TQ+DaILmJSWtsOUiVrHeF2G5HMiEbVO5TCQH41lqqojf0ZGyjDzIZ+W1Kj4AgM71obJpEC iKdPXzeyySdLj/8NpSxx4tnnKW0cMPHu0pbwAMr1dQojiZPhNHloG6iWYZKmU8y5e9bkzvSeKanC 8oXLn99EKn/tAqcNqagyIcn6eKvl2UC1EiE49ioboqsF1MI0ydM7oejAE1tUkp8KSSGmUL4KVFcZ qXV+Ymi7wl2lTZDr6gP4rYHf1p+HYaK67pwH3W6wwHpSBEwzqHg1rxl0g6Zk3IF2JyxDQZmbng6D 2Fc6un8h8gp5KraE84boAS8+bU9IBtWexxF/jGYmPBD48VGoPxG+ep8MMoOKMEWauZnVhXVMruFS 5XRpuWXmAqnyAwX18m8x/Xvi5qe4Oy8lJxmUD/6fQWTkFS6Uj7JFs4E6yArKx4yrLkgZsheGZYuS pCfplIHUK+VkNGChC6kTbQQlVzyQv/vxz8KiVT3oqUdtoJQmOtiwyTcUZVBFJ0GSSIV+agicTsyO Tjxga3dQyp2LdIw34YSn7xqv5iWDUnIBt21cigsm6CQl1wT6muXVxoe/fvv2+hU8+nZO2I4d7AxK RTtTQXXjPa2Ro8aPdhpQJMB1TPgMoG6S75shqeVxPOObIFWeICeb/bbfDKprXigpKAiayaBII0+4 Pz3syf1zQ1KuSuHhT2jXiRbpdw5qBbvDJ3e2VcTz7W56hIi3HVTPTwWKvIFFAijVmSdsOrPCxjUB qb/iCa9PwvqgdT55vrKQerMz9ywL2UD1uiPIt5JBkXbB3A7q9lmRBC9ViFy4IMXHb8iooC5C8Ffm oPDm9MBPC6oeNlp8pcpNBkWKTjuo4jMRa9zLiZolEdRFnOoPTcuwNyecVAVNoGbzQd+0Tb8fUGlL GOT08hI3NhHUVwnUsVjPSCpNCTOOuwfj3UC5c0OXZZ+gvjxrYthlD2UlOOWcYtmiUbUcJvomUimK YhGrYueRFlS3vV5/KChoswxvcaPPXO0VHgQn5lQOAdR3CdRFWLYgKX2dFG0WaO31dgBFWwBeZ9F1 z/cISt4WdsEIDTlCdXNH1VXMKZ55yKPeX39zy3sQ3afbBOKdtfn+UESWbWgFW0FJzQNvFHT552KN PYJSvsdAtz4lt7XRpmUlJoW7maLt8AdXqHvoPuF2vdYC3NoKJjqXChRuFY5MddseQJHvMcBoaIIe Wt0qJLWUWruggT9iUFXDuhqpbZsLDLzYeXpQQH+s1DB7A8Xo9xg244ttbhWSkFuW4N9+xArlGE5p 1jdSQWgCnUzaM08A5Rsebq+gtO8x0PjkBJ3xduaKdJjYVCK1UpIKhkGCxL4tG6CgUDzDTAWKa2mb FBXBnkAx/XsMyfikBD2HeYEquB3x44FutwCpCTmRuKVeJxvFqUC5ljHNPYFC9UFHgsaHCTpbgbem cv8fMfpOKxEz+urRar2EjzRcMDzR/EgDamYeA2HhnaAwJZdjnOEz2IKdk9QCvtM/4bCoFMZyutOI bW6o6XfRqLaiohL094GClFx13Gh8IkHnOwkrqjPsXmmWTzVSwrRpVgb+fL1uys8mbfVCPrqLj1q3 5G4x9sTfBwrjkmoakvHxE0uzg2L3ZFthSmtEdmVOEZTNSvFp4mwhHUX3lQoU6k6Xv83eQqr83gUK MwO63YnGx1VtpaVJMj+J1ISSutTiQgywTr4xb3tqpSYFxFSgpMS83Wouzgfq+u8CBZFd7xWg8cXO ixco5GGB06owsZG6Vm1Y0injvi88rOS6UoFiftJy7wKFqbNejknbVzc2jXKRU9WpiAm0r8mvou8U MjayP5cvJ1jpar1ZQu/gPaCklNzUUiHGZ/BRCqdNAJ0aOYl4YeyZjm1aMFKCQsruwdhAqi9aCu8A BTpjbtKh8YUJuoh6+AAVlRMnFXEqSrAqFmceKxX9KimWFs0Y0oFyetSYvQbsH78dVJLhRQqjGJ+W R1Upp82M6fMkRHQtq5VIQGy/qu0G1KkPtMan2JCk+1s8v5c25cYD6au5UVgeE1CzVrT5J74t43uB 9LPznjwqM+Fi28UrTsWIjJSZL2MsOdglXiICdlNxYu895ArkCr2cOnbBX2zst+bG9rA7i0Q7Hh9W zJTNgkWzuQjEL0iybtAINv/4ZMH04363EWq9h+V97h46wjKn+PJcU6fXR27xGvKx4luvm0KY9hOz nv14YcrHUMiJpuJo0bLcvema/59SXaXhRDcIzSnDP1sK+scrS4NeX+qchh9peL+hVKn13RuHXQ+p Pn0yTmEJLCvV0vbHDIoT1T9VdrrIP0Pc3DJmtbpP+psPGagih3efTp2EsGqhUNiqJJXMzeWXy5vi Z/tTP/8D/4hbsdiYMRQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDctMTNUMDg6MTE6NTErMDA6 MDByFPBLAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA3LTEzVDA4OjExOjUxKzAwOjAwA0lI9wAA AABJRU5ErkJggg=="/></svg></span><span class="text-uppercase font-weight-bold">ChainX 文档</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=../../../zh/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/chainx-org/ChainX target=_blank><span>GitHub</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Version</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../>v2.0 (Latest)</a>
<a class=dropdown-item href=https://doc.chainx.org>v1.0</a></div></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../docs/validators/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002 站内搜索…" aria-label=站内搜索… autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002 站内搜索…" aria-label=站内搜索… autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../docs/validators/>English</a></div></div><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../zh/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=zhdocs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../zh/docs/overview/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a></li><ul><li class=collapse id=zhdocsoverview></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../zh/docs/basics/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Basics</a></li><ul><li class=collapse id=zhdocsbasics><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsbasicsaccounts href=../../../zh/docs/basics/accounts/>账户系统</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsbasicsassets href=../../../zh/docs/basics/assets/>资产系统</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsbasicsstaking href=../../../zh/docs/basics/staking/>投票选举</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsbasicsasset-mining href=../../../zh/docs/basics/asset-mining/>资产挖矿</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../zh/docs/validators/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Validators</a></li><ul><li class="collapse show" id=zhdocsvalidators></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../zh/docs/developers/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developers</a></li><ul><li class=collapse id=zhdocsdevelopers><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsdevelopersfaq href=../../../zh/docs/developers/faq/>FAQ</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsdevelopersrpc href=../../../zh/docs/developers/rpc/>RPC</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsdevelopersjs-sdk href=../../../zh/docs/developers/js-sdk/>JS-SDK</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsdevelopersdevops href=../../../zh/docs/developers/devops/>节点运维</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsdevelopersexchanges href=../../../zh/docs/developers/exchanges/>交易所对接</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../zh/docs/smart-contract/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Smart Contract</a></li><ul><li class=collapse id=zhdocssmart-contract><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocssmart-contractmulti-bear href=../../../zh/docs/smart-contract/multi-bear/>Multi-Bear Domicile Setup</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocssmart-contracttutorial2 href=../../../zh/docs/smart-contract/tutorial2/>Another Tutorial</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../zh/docs/bridges/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Bridges</a></li><ul><li class=collapse id=zhdocsbridges><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsbridgestrustee href=../../../zh/docs/bridges/trustee/>Trustee</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsbridgesbitcoin href=../../../zh/docs/bridges/bitcoin/>Bitcoin Bridge</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../zh/docs/testnet/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Testnet</a></li><ul><li class=collapse id=zhdocstestnet><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocstestnetpublic-testnet href=../../../zh/docs/testnet/public-testnet/>公开测试网</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocstestnetlocal-dev-testnet href=../../../zh/docs/testnet/local-dev-testnet/>本地 Dev 测试网</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../zh/docs/migration/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Migration</a></li><ul><li class=collapse id=zhdocsmigration></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../zh/docs/general/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">General</a></li><ul><li class=collapse id=zhdocsgeneral><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsgeneralfaq href=../../../zh/docs/general/faq/>FAQs</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsgeneralresources href=../../../zh/docs/general/resources/>Resources</a></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/chainx-org/documentation/edit/master/content/zh/docs/Validators/_index.md target=_blank><i class="fa fa-edit fa-fw"></i>编辑此页</a>
<a href="https://github.com/chainx-org/documentation/issues/new?title=%e9%aa%8c%e8%af%81%e4%ba%ba" target=_blank><i class="fab fa-github fa-fw"></i>提交文档问题</a>
<a href=https://github.com/chainx-org/ChainX/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>提交项目问题</a></div><nav id=TableOfContents><ul><li><a href=#准备事项>准备事项</a><ul><li><a href=#一台-vps>一台 VPS</a></li><li><a href=#安装chainx程序>安装<code>chainx</code>程序</a></li><li><a href=#同步至链的最新状态>同步至链的最新状态</a></li><li><a href=#注册账户>注册账户</a></li></ul></li><li><a href=#注册节点>注册节点</a></li><li><a href=#设置-session-keys>设置 Session Keys</a></li><li><a href=#备份节点>备份节点</a></li><li><a href=#验证出块>验证出块</a></li><li><a href=#注意事项>注意事项</a></li><li><a href=#节点惩罚>节点惩罚</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://chainx-org.github.io/documentation/zh/docs/>Documentation</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://chainx-org.github.io/documentation/zh/docs/validators/>Validators</a></li></ol></nav><div class=td-content><h1>验证人</h1><div class=lead>ChainX validator guide</div><div class="pageinfo pageinfo-primary"><p>ChainX 2.0 验证节点指南</p></div><h2 id=准备事项>准备事项</h2><h3 id=一台-vps>一台 VPS</h3><p>最简单的方式是使用一台云主机， 您可以自由选择任一主机提供商。</p><h4 id=测试网硬件配置>测试网硬件配置</h4><ul><li>CPU 2 核，内存 2G, 带宽 1M, 操作系统 Ubuntu 18.04+。</li></ul><h4 id=主网硬件配置>主网硬件配置</h4><p>以阿里云为例，ChainX 主网推荐配置不低于: CPU 4 核, 内存 4 G, 带宽 10M，磁盘使用 SSD 300G+, 操作系统 18.04+.</p><h4 id=使用-docker-镜像>使用 docker 镜像</h4><p>运行以下命令，可以直接启动节点</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker run -it -p 8086:8086 -p 8087:8087 chainxorg/chainx:v2.0.0 /usr/local/bin/chainx --name deeeemo --chain=mainnet --validator
</code></pre></div><div class="alert alert-primary" role=alert>可以通过<code>-v</code>选项映射配置文件或数据库， 并在启动参数中注明。</div><h3 id=安装chainx程序>安装<code>chainx</code>程序</h3><h4 id=从源码编译>从源码编译</h4><h5 id=准备工作>准备工作</h5><p><code>chainx</code>依赖于<code>clang</code>, <code>gcc</code></p><h5 id=开始编译>开始编译</h5><p>我们假设您已经安装好 Rust nightly 与 <code>wasm32-unknown-unknown</code>:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ rustup install nightly-2020-09-30
$ rustup override <span style=color:#038>set</span> nightly-2020-09-30
$ rustup target add wasm32-unknown-unknown --toolchain nightly-2020-09-30
</code></pre></div><p>接下来， 您需要按照以下步骤完成编译工作：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git clone https://github.com/chainx-org/ChainX
$ <span style=color:#038>cd</span> ChainX
$ git checkout v2.0.0
$ cargo build --release
</code></pre></div><p>编译完成后，<code>chainx</code>程序将在<code>target/release/</code>目录下。</p><h4 id=直接下载编译好的二进制>直接下载编译好的二进制</h4><p>从 <a href=https://github.com/chainx-org/ChainX/releases>GitHub release(https://github.com/chainx-org/ChainX/releases)</a> 页面下载提供编译好的二进制。</p><h3 id=同步至链的最新状态>同步至链的最新状态</h3><p>通过下面的命令开始同步区块链:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ./chainx --chain=mainnet --pruning=archive
</code></pre></div><p>同步完成后，以验证人模式重启节点:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ./chainx --chain=mainnet --validator
</code></pre></div><p>或直接以验证人模式启动进行同步：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#888># 使用 --validator 时，同时将默认启用存档模式即 --pruning=archive</span>
$ ./chainx --chain=mainnet --validator
</code></pre></div><p>不过注意，一定等待同步完成并且设置好 Session Keys 后再让节点参选。<div class="alert alert-primary" role=alert>如果出现同步异常， 请确保系统时间和网络时间一致， 删除数据库之后再进行同步。</div></p><h4 id=配置文件>配置文件</h4><p>对于验证者节点， 我们建议如下配置：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#b06;font-weight:700>&#34;log-dir&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;./log&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>日志目录</span>
  <span style=color:#b06;font-weight:700>&#34;enable-console-log&#34;</span>: <span style=color:#080;font-weight:700>false</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>同时将日志输出到控制台</span>
  <span style=color:#b06;font-weight:700>&#34;no-mdns&#34;</span>: <span style=color:#080;font-weight:700>true</span>,
  <span style=color:#b06;font-weight:700>&#34;validator&#34;</span>: <span style=color:#080;font-weight:700>true</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>验证者节点必须为</span> <span style=color:#a61717;background-color:#e3d2d2>true,</span> <span style=color:#a61717;background-color:#e3d2d2>默认为false</span>
  <span style=color:#b06;font-weight:700>&#34;ws-external&#34;</span>: <span style=color:#080;font-weight:700>false</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>验证者节点建议关闭对外的ws端口</span>
  <span style=color:#b06;font-weight:700>&#34;rpc-external&#34;</span>: <span style=color:#080;font-weight:700>false</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>验证者节点建议关闭对外的rpc端口</span>
  <span style=color:#b06;font-weight:700>&#34;log&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;info,runtime=info&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;port&#34;</span>: <span style=color:#00d;font-weight:700>20222</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>指定p2p协议的tcp端口</span>
  <span style=color:#b06;font-weight:700>&#34;ws-port&#34;</span>: <span style=color:#00d;font-weight:700>8087</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>指定websocket的RPC服务端口</span>
  <span style=color:#b06;font-weight:700>&#34;rpc-port&#34;</span>: <span style=color:#00d;font-weight:700>8086</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>指定http的RPC服务端口</span>
  <span style=color:#b06;font-weight:700>&#34;pruning&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;archive&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>强烈建议加上该配置，以存档模式启动</span>
  <span style=color:#b06;font-weight:700>&#34;execution&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;NativeElseWasm&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;db-cache&#34;</span>: <span style=color:#00d;font-weight:700>2048</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>设置节点数据库的缓存，单位MB，即这里为2GB</span>
  <span style=color:#b06;font-weight:700>&#34;state-cache-size&#34;</span>: <span style=color:#00d;font-weight:700>2147483648</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>设置节点状态树缓存，单位B，即这里为2GB</span> <span style=color:#a61717;background-color:#e3d2d2>(2GB</span> <span style=color:#a61717;background-color:#e3d2d2>=</span> <span style=color:#a61717;background-color:#e3d2d2>2</span> <span style=color:#a61717;background-color:#e3d2d2>*</span> <span style=color:#a61717;background-color:#e3d2d2>1024</span> <span style=color:#a61717;background-color:#e3d2d2>*</span> <span style=color:#a61717;background-color:#e3d2d2>1024)</span>
  <span style=color:#b06;font-weight:700>&#34;name&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;Your-Node-Name&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>在节点浏览器Telemetry中显示的节点名</span>
  <span style=color:#b06;font-weight:700>&#34;base-path&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;&lt;数据存放路径&gt;&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>数据库路径，</span> <span style=color:#a61717;background-color:#e3d2d2>linux下默认为`$HOME/.local/share/chainx/chains/$CHAIN_TYPE/db`</span>
  <span style=color:#b06;font-weight:700>&#34;bootnodes&#34;</span>: [] <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>种子节点，</span> <span style=color:#a61717;background-color:#e3d2d2>为空列表时使用内置的种子节点</span>
}
</code></pre></div><div class="alert alert-warning" role=alert>部分 rpc 服务属于敏感操作，如需暴露于公网，建议使用代理服务器进行过滤（详见：<a href=https://github.com/paritytech/substrate/wiki/Public-RPC><a href=https://github.com/paritytech/substrate/wiki/Public-RPC>https://github.com/paritytech/substrate/wiki/Public-RPC</a></a>）。如果您已知悉并了解相关风险，可在启动节点时加入<code>&ndash;unsafe-{ws,rpc}-external</code>参数</div><div class="alert alert-primary" role=alert>节点成功启动后， 可以在<a href=https://telemetry.chainx.org>Telemetry</a>上看到您的节点。</div><h3 id=注册账户>注册账户</h3><p>您可以在<a href=https://dapp-v2.chainx.org>新钱包(https://dapp-v2.chainx.org)</a>上注册账户, 并向该账户转入一点 PCX 作为交易手续费以及后续抵押等费用。</p><p><img src=../../../images/add-account.png alt=add-account></p><h2 id=注册节点>注册节点</h2><p>注册成功后，您可以在<a href=https://dapp-v2.chainx.org/#/staking><code>Network>Staking</code></a>页面上注册节点。</p><p><img src=../../../images/register-node.png alt=register-node></p><div class="alert alert-primary" role=alert>每个账号只能注册一次. 另外，注册之前您需要保证有足够余额支付交易手续费。新注册的节点默认参选，您无需进行额外的操作。除了注册节点时的初始质押币，您也可以通过<strong>投票</strong>的方式再次进行质押。选举时间结束后，总质押量排名前 30 的节点，将成为验证人参与共识。</div><p><img src=../../../images/bond.png alt=rebond></p><h2 id=设置-session-keys>设置 Session Keys</h2><p>您可以在运行节点的机器上执行以下命令来生成 Session Keys:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ curl -H <span style=color:#d20;background-color:#fff0f0>&#34;Content-Type: application/json&#34;</span> -d <span style=color:#d20;background-color:#fff0f0>&#39;{&#34;id&#34;:1, &#34;jsonrpc&#34;:&#34;2.0&#34;, &#34;method&#34;: &#34;author_rotateKeys&#34;, &#34;params&#34;:[]}&#39;</span> http://localhost:<span style=color:#369>$YOUR_RPC_PORT</span>
</code></pre></div><p>其中，<code>YOUR_RPC_PORT</code>为启动节点时<code>rpc-port</code>指定的端口， 未指定的情况下默认端口是 8086。</p><p>返回结果如下：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#b06;font-weight:700>&#34;jsonrpc&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;2.0&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;result&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;0x42a7d53603bac173eb96e4ac133e35bcd4a49f308387a0e748b6f6a6dbf5635313f065a67a42a78a2c3e261a63523d92d4e03f9e7c9bba7c3d13b13b6983f0724c46b00699362a374f3fe43dd668eae6fcd815d0b84f88998ca5fc1c41e09b2412e2b9d3a322d9229a24cbce31d53358edc77b6fbaca7d038247743f40b6f205&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;id&#34;</span>: <span style=color:#00d;font-weight:700>1</span>
}
</code></pre></div><p>其中，<code>result</code>字段即为获取的 Session Keys, 然后在<a href=https://dapp-v2.chainx.org/#/extrinsics><code>Developer>Extrinsic</code></a>通过<code>setKeys</code>进行设置：</p><p><img src=../../../images/setkeys.png alt=setKeys></p><div class="alert alert-primary" role=alert><ul><li>目前，<code>proof</code> 填入<code>0x00</code> 即可。</li></ul></div><p>调用<code>nextKey</code>可以验证是否正确设置。</p><h2 id=备份节点>备份节点</h2><p>由于当节点部署不当导致出块异常时， 会受到一定的惩罚。 所以可以部署额外的备份节点， 备份节点以<code>--pruning=archive</code>模式启动， 这样当主节点出现异常时， 可以用备份节点代替工作， 以免受到惩罚。</p><h2 id=验证出块>验证出块</h2><p>当选验证人之后，如果在日志中看到<code>Prepared block for proposing at ...</code>, 即说明节点已成功出块。</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>......
Nov 04 10:12:06.008  INFO 🙌 Starting consensus session on top of parent 0x6dd1e2edbf490ade94e944b09738c258921655708f6c2b5b8a63b5e38d02ac16
Nov 04 10:12:06.009  INFO 🎁 Prepared block for proposing at 4 [hash: 0x6740b08d96a329c9be13290760d15a537f3bd6635c85261b63e44395ad830b36; parent_hash: 0x6dd1…ac16; extrinsics (2): [0xe497…419a, 0x3af6…b467]]
Nov 04 10:12:06.012  INFO 🔖 Pre-sealed block for proposal at 4. Hash now 0x66f1579117b6aba16d4f57ae7ddf19ad209c8077a4f4f78ed4cb80877754a0f5, previously 0x6740b08d96a329c9be13290760d15a537f3bd6635c85261b63e44395ad830b36.
......
</code></pre></div><h2 id=注意事项>注意事项</h2><ul><li>第一次减半前，每个 session 约 5 分钟，共发行 50 PCX。</li><li>每 12 个 session 进行一次验证人选举换届。</li><li>如果节点自抵押小于 1PCX 或总得票数小于 10PCX, 在选举验证人时将会被强制退选。</li></ul><h2 id=节点惩罚>节点惩罚</h2><p>ChainX 在每个 session 会发放奖励，同时惩罚可能作恶的节点，惩罚类型一般包括节点双签与节点离线。一旦节点被发现作恶，作恶节点在该 session 的应得奖励将会被全部惩罚进国库，同时按照链上汇报的作恶系数惩罚节点奖池, 即：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>penalty = max(session_reward + reward_pot_balance * F, minimum_penalty)
</code></pre></div><ul><li><code>penalty</code>: 应罚金额</li><li><code>session_reward</code>: 节点的 session 奖励</li><li><code>reward_pot_balance</code>: 节点奖池金额</li><li><code>F</code>: 惩罚系数，由 babe 与 im-online 模块计算得出:<ul><li>babe: <a href=https://wiki.polkadot.network/docs/en/learn-staking/#babe-equivocation>节点双签惩罚详情</a>, <a href=https://github.com/paritytech/substrate/blob/c60f00840034017d4b7e6d20bd4fcf9a3f5b529a/frame/babe/src/equivocation.rs#L265>frame/babe/src/equivocation.rs</a>.</li><li>im-online: <a href=https://wiki.polkadot.network/docs/en/learn-staking/#unresponsiveness>节点离线惩罚详情</a>，<a href=https://github.com/paritytech/substrate/blob/c60f00840034017d4b7e6d20bd4fcf9a3f5b529a/frame/im-online/src/lib.rs#L771>frame/im-online/src/lib.rs</a>.</li></ul></li><li><code>minimum_penalty</code>: 最小惩罚值, 即每次惩罚至少罚 <code>minimum_penalty</code>。</li></ul><p>ChainX 节点作恶并不惩罚本金，而是惩罚节点奖池。当节点奖池被罚完后，节点会被强制退选。</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Rust data-lang=Rust><span style=color:#080;font-weight:700>if</span><span style=color:#bbb> </span>penalty<span style=color:#bbb> </span>&gt;<span style=color:#bbb> </span>reward_pot_balance<span style=color:#bbb> </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#888>// force the validator(offender) to be chilled
</span><span style=color:#888></span>}<span style=color:#bbb>
</span></code></pre></div><div class=section-index><hr class=panel-line></div><div class="text-muted mt-5 pt-3 border-top">最后修改 24.12.2020: <a href=https://github.com/chainx-org/documentation/commit/c617444fd6b5d98cfce75b3f48946fc783cf4ca3>Fix telemetry url (#20) (c617444)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://hi@chainx.org><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/chainx_org><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/chainx-org/ChainX><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Telegram aria-label=Telegram><a class=text-white target=_blank href=https://t.me/chainx_org><i class="fab fa-telegram"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2020 The ChainX Organization All Rights Reserved</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=../../../js/main.min.b6dfd66b2d261380250c517fd39bc9d8659709e9fc924b00d8fed92e8d9df768.js integrity="sha256-tt/Way0mE4AlDFF/05vJ2GWXCen8kksA2P7ZLo2d92g=" crossorigin=anonymous></script></body></html>