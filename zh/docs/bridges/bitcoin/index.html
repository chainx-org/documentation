<!doctype html><html lang=zh class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.71.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=../../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../../favicons/android-192x192.png sizes=192x192><title>比特币转接桥/网关 | ChainX 文档</title><meta property="og:title" content="比特币转接桥/网关"><meta property="og:description" content="比特币转接桥/网关."><meta property="og:type" content="article"><meta property="og:url" content="https://chainx-org.github.io/documentation/zh/docs/bridges/bitcoin/"><meta property="article:modified_time" content="2020-12-30T11:35:11+08:00"><meta property="og:site_name" content="ChainX 文档"><meta itemprop=name content="比特币转接桥/网关"><meta itemprop=description content="比特币转接桥/网关."><meta itemprop=dateModified content="2020-12-30T11:35:11+08:00"><meta itemprop=wordCount content="106"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="比特币转接桥/网关"><meta name=twitter:description content="比特币转接桥/网关."><link rel=preload href=../../../../scss/main.min.e291fcabf38401f978214cbececd3bf867b81ce2f345dd8fcdb61bb530a940ee.css as=style><link href=../../../../scss/main.min.e291fcabf38401f978214cbececd3bf867b81ce2f345dd8fcdb61bb530a940ee.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=../../../../zh/><span class=navbar-logo><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="296" height="64" viewBox="0 0 296 64" enable-background="new 0 0 296 64"><image id="image0" width="296" height="64" x="0" y="0" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASgAAABACAMAAACeCRqoAAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA21BMVEVHcEzg6c32vEzrd03o d07od032sk5Aucg6x5w1x5o1xpo4xppGttW/4Lz2t0zrdkvqdkzefFa3t39CvsY0x5r///////// //////////////////////////////////85x5n////////////3ykv3ykv////3ykr4y0v////3 ykv3ykv3yUr4ykv///////+dpHb////3ykuInJFRuLvzyU5HruJnp8PKwnFIr+JGr+KWu55yxoNH r+PyskqZnG9+t7SlvZLqdUs0xpr////2yUrvkktGruKrwIS9CbWWAAAAQnRSTlMACElgg50hWJHB 3HQ6Aze/8+YQH/MQUYWs1u3Itn9FGKm9YJ7yjJLfWjObzrluJG2id397/q3A0P6L8PHn3vva0fH5 WCX+AAAAAWJLR0QV5dj5owAAAAd0SU1FB+QHDQgLM1N8HpwAAAqPSURBVHja5Zx9X+I6FoBbUFEk yDuUIkhBlAHh4o7c0R3unVVc/f6faGmbnJOcJKUozsxez2/+GNskbZ+e91QdR4ibyR4cHmSPnERx c8cn+Xz+5LTAnE8pxbPSYyzlg4p1VPW49iQkf/oJUR2dPUpSOrAgOEVMEarqr77vny3Z0qMqZyal co+fiNRyv/rOfzKnR03KuqtyT550+VSkMo8GKVFSRk5PtcKvvvufJ5WSEVSRjJI45U/QV50kLV1v NFteu71ue37nvFv/8EfpfWh4OQDHlC0eZQ9KWzjVTkP/Vb3Yanxuo79WxQ9cOqjZiaS7h+eoDzZv pNXbYQYrDp9jGWaMAy7F6ZCGUKhS1mGM8QAYccoirEoeNKjqhK+NObktKtVor3Vpj9QHqfPj/T1w 8uIr7EKq+CzkyhS9ruF0hIPrUxbOH8QOKotqVUVOuOApP2TMEcb9tVnawQeBGvClOrtMugQUX/ST R0Lfni/DHw9jTofSiCg7jywyQzlJtsPydttrru3Sl3zVHkGBArs7TGITIKUb31ScmkSurxyDIj6J e65S1srJcXhadapdwR2sk8RD69gjKFh+Jy+FWqMZ3404M4wTAO6iyDDw8FmJ04UaVLiXOtY4dYi1 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 AABJRU5ErkJggg=="/></svg></span><span class="text-uppercase font-weight-bold">ChainX 文档</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=../../../../zh/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/chainx-org/ChainX target=_blank><span>GitHub</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Version</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../../>v2.0 (Latest)</a>
<a class=dropdown-item href=https://doc.chainx.org>v1.0</a></div></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../../docs/bridges/bitcoin/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002 站内搜索…" aria-label=站内搜索… autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002 站内搜索…" aria-label=站内搜索… autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../../docs/bridges/bitcoin/>English</a></div></div><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=zhdocs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/overview/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a></li><ul><li class=collapse id=zhdocsoverview></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/basics/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Basics</a></li><ul><li class=collapse id=zhdocsbasics><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsbasicsaccounts href=../../../../zh/docs/basics/accounts/>账户系统</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsbasicsassets href=../../../../zh/docs/basics/assets/>资产系统</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsbasicsstaking href=../../../../zh/docs/basics/staking/>投票选举</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsbasicsasset-mining href=../../../../zh/docs/basics/asset-mining/>资产挖矿</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/validators/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Validators</a></li><ul><li class=collapse id=zhdocsvalidators></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/developers/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developers</a></li><ul><li class=collapse id=zhdocsdevelopers><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsdevelopersfaq href=../../../../zh/docs/developers/faq/>FAQ</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsdevelopersrpc href=../../../../zh/docs/developers/rpc/>RPC</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsdevelopersjs-sdk href=../../../../zh/docs/developers/js-sdk/>JS-SDK</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsdevelopersdevops href=../../../../zh/docs/developers/devops/>节点运维</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsdevelopersexchanges href=../../../../zh/docs/developers/exchanges/>交易所对接</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/smart-contract/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Smart Contract</a></li><ul><li class=collapse id=zhdocssmart-contract><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocssmart-contractmulti-bear href=../../../../zh/docs/smart-contract/multi-bear/>Multi-Bear Domicile Setup</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocssmart-contracttutorial2 href=../../../../zh/docs/smart-contract/tutorial2/>Another Tutorial</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/bridges/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Bridges</a></li><ul><li class="collapse show" id=zhdocsbridges><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsbridgestrustee href=../../../../zh/docs/bridges/trustee/>Trustee</a>
<a class="td-sidebar-link td-sidebar-link__page active" id=m-zhdocsbridgesbitcoin href=../../../../zh/docs/bridges/bitcoin/>Bitcoin Bridge</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/testnet/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Testnet</a></li><ul><li class=collapse id=zhdocstestnet><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocstestnetpublic-testnet href=../../../../zh/docs/testnet/public-testnet/>公开测试网</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocstestnetlocal-dev-testnet href=../../../../zh/docs/testnet/local-dev-testnet/>本地 Dev 测试网</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/migration/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Migration</a></li><ul><li class=collapse id=zhdocsmigration></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/general/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">General</a></li><ul><li class=collapse id=zhdocsgeneral><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsgeneralfaq href=../../../../zh/docs/general/faq/>FAQs</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocsgeneralresources href=../../../../zh/docs/general/resources/>Resources</a></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/chainx-org/documentation/edit/master/content/zh/docs/Bridges/Bitcoin.md target=_blank><i class="fa fa-edit fa-fw"></i>编辑此页</a>
<a href="https://github.com/chainx-org/documentation/issues/new?title=%e6%af%94%e7%89%b9%e5%b8%81%e8%bd%ac%e6%8e%a5%e6%a1%a5/%e7%bd%91%e5%85%b3" target=_blank><i class="fab fa-github fa-fw"></i>提交文档问题</a>
<a href=https://github.com/chainx-org/ChainX/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>提交项目问题</a></div><nav id=TableOfContents><ul><li><a href=#介绍>介绍</a></li><li><a href=#术语>术语</a></li><li><a href=#比特币轻节点验证>比特币轻节点验证</a></li><li><a href=#多签管理及信托>多签管理及信托</a></li><li><a href=#比特币转接桥业务逻辑>比特币转接桥业务逻辑</a></li><li><a href=#其他>其他</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://chainx-org.github.io/documentation/zh/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://chainx-org.github.io/documentation/zh/docs/bridges/>Bridges</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://chainx-org.github.io/documentation/zh/docs/bridges/bitcoin/>Bitcoin Bridge</a></li></ol></nav><div class=td-content><h1>比特币转接桥/网关</h1><div class=lead>比特币转接桥/网关.</div><div class="pageinfo pageinfo-primary"><p>比特币转接桥/网关</p></div><h2 id=介绍>介绍</h2><p>比特币转接桥/网关是ChainX上实现比特币资产跨链的模块。</p><p>对于Bitcoin链而言，ChainX采用</p><ul><li>比特币轻节点验证（SPV）保证比特币的充值及提现确认过程安全性</li><li>比特币多签锁定持有比特币资产及由多签私钥持有者控制比特币提现</li></ul><p>总结而言，ChainX对于Bitcoin链采用“单向轻节点验证，多签控制原链资产”的模型。</p><h2 id=术语>术语</h2><blockquote><p>比特币轻节点验证：采用比特币轻节点验证逻辑，才有比特币块头的情况下通过默克尔证明验证交易真实存在。</p><p>比特币多签：在比特币链上采用多签脚本的模式，实现比特币上的多重签名技术。</p><p>比特币信托：在ChainX链上注册并持有比特币多签私钥的角色，由信托候选者经过信托换届后可成为比特币信托。</p><p>比特币信托候选者：首先必须是ChainX验证者，然后将一组冷热公钥注册到ChainX链上后即可成为比特币信托候选者。</p><p>比特币信托换届：从上一届信托指定下一个信托，并在ChainX链上信托多签投票后通过决定下一届信托并产生信托多签地址的过程。</p><p>比特币多签地址：在信托换届时由信托们注册的冷热公钥根据比特币多签脚本生成的冷热地址。</p><p>信托多签：当前届的信托在ChainX链上有一个多签地址，信托通过该多签地址可以进行一些决议，如信托缓解，设置比特币提现手续费等</p><p>比特币Relay：一个链外程序，将比特币区块头及涉及与ChainX相关的比特币的交易提交到ChainX链上。</p></blockquote><h2 id=比特币轻节点验证>比特币轻节点验证</h2><p>ChainX在Runtime环境内实现了一个完全的比特币轻节点验证逻辑模块，该逻辑模块从某个比特币块高开始（genesis时决定），接受后续高度的比特币区块，并拥有切换“最重工作量证明链”的功能。因此若Bitcoin链上产生的最新区块被比特币Relay正常提交到ChainX上后，比特币转接桥就是具备了一份Bitcoin区块头信息的拷贝，拥有比特币的可验证的元数据。</p><p>比特币转接桥中的轻节点验证逻辑将会验证比特币块头：</p><ul><li>父hash存在性</li><li>工作量证明</li><li>时间范围</li></ul><p>等SPV应该具备的验证逻辑，同时具备与Bitcoin链相同的最重工作量证明下的确认逻辑，假设确认数是m，在接受了第n个块头后，会将第n-m+1个区块标记为确认，参见：</p><p><img src=https://user-images.githubusercontent.com/5023721/56464998-bd10ae80-6427-11e9-877a-e01727c24a81.png alt="bitcoin confirm"></p><p>在比特币转接桥中，只接受外部提交的比特币区块头数据，而验证数据是否合法与轻节点业务逻辑均在ChainX的Runtime中独立运行决策，不受外部影响。</p><p>因此在ChainX中的比特币轻节点的验证与确认区块逻辑是</p><p><img src=../../../../images/ChainX_Bitcoin_bridge.jpg alt=ChainX_Bitcoin_bridge></p><p>在ChainX 1.0 中，与ChainX相关的比特币交易可以先提交到转接后，再等待到比特币区块头确认后执行交易处理流程，而在ChainX 2.0简化了这一过程，只允许提交在ChainX链上已经确认的区块头之前的比特币交易，在还未确认的区块头下的比特币交易不允许提交。</p><h2 id=多签管理及信托>多签管理及信托</h2><p><strong>在ChainX链中，持有多签私钥的角色称为“信托(trustee)”</strong>。信托主要负责管理资产安全及处理比特币提现申请。</p><p>信托在ChainX链上需要处理的主要流程为处理提现，执行流程如下：</p><ol><li>信托周期性根据ChainX链上的提现申请组建比特币提现交易并发送到ChainX链的比特币转接桥；</li><li>比特币转接桥根据信托的提现请求锁定对应提现申请；</li><li>信托根据ChainX链上的比特币交易原文进行比特币多签签名；</li><li>当最后一个多签签名完成后，比特币提现交易会被Relay提交到比特币网络中；</li><li>待比特币网络打包后，Relay发现信托提交的比特币提现交易，将提现交易发送到ChainX链的比特币转接桥；</li><li>比特币转接桥通过轻节点方案验证提现交易有效性，销毁在ChainX链上对应的提现申请及X-BTC代币。</li></ol><p>另一方面信托需要根据已经充值到ChainX的热地址的余额，周期性移动热冷地址中的比特币以保证比特币锁定在多签地址中的安全性。移动热冷地址的比特币交易可以被Relay提交到比特币转接桥中，但是不会有特别处理。</p><p>关于多签及信托的更多内容请参见 <a href=../Trustee>信托</a></p><h2 id=比特币转接桥业务逻辑>比特币转接桥业务逻辑</h2><p>由以上介绍可知，比特币转接桥采用了单向Relay加信托多签的模式维护比特币转接桥的比特币跨链过程。因此总体的比特币转接桥业务逻辑如下图所示：</p><p>由上图可以看到：</p><ol><li><p>前置条件：</p><p>ChainX链上首先需要有信托生成对应的热冷信托多签地址。</p></li><li><p>比特币区块头：</p><ol><li>比特币区块头由relay提交（也可以通过Substrate offchain worker 提交）</li><li>比特币转接桥验证比特币区块头并组建比特币区块的最重工作量链。</li><li>转接桥会根据最新的比特币区块头去确认在之前的某个区块为确认区块。</li></ol></li><li><p>充值过程：</p><p><img src=../../../../images/ChainX_BTC_Deposit.jpg alt=ChainX_BTC_Deposit></p><ol><li>链上首先具备区块；</li><li>用户转账到信托的热地址，并在<strong>交易中的OP_RETURN中携带用户的ChainX地址及其他信息</strong>，携带了信息比特币转接桥才可识别出这笔充值转账交易是与哪个ChainX用户相关；</li><li>Relay发现这笔交易，并将这笔交易提交到转接桥中；（1.0中发现交易就可提交，直到确认才会执行，2.0中只能提交确认过的交易）</li><li>当这笔交易是确认过的，执行这笔交易。当这笔交易是充值交易时，从OP_RETURN中解析出ChainX地址，发放对应的X-BTC金额至该ChainX账户；</li><li>至此，比特币充值流程执行完毕。</li></ol></li><li><p>提现过程：</p><p><img src=../../../../images/ChainX_BTC_Withdraw.jpg alt=ChainX_BTC_Withdraw></p><ol><li>用户申请提现X-BTC；</li><li>ChainX转接桥/网关模块中的记录模块会锁定对应的X-BTC并记录用户申请信息，该信息有唯一ID与其关联；</li><li>信托周期性获取当前申请中的提现，并根据提现信息组件比特币提现交易原文；</li><li>提现交易原文发送到ChainX比特币转接桥中后会锁定对应提现记录，之后其他的信托基于这个比特币原文进行比特币多签签名；</li><li>签名完成后比特币交易会提交到比特币网络中；</li><li>打包后relay会提交该提现交易至转接桥中，确认后会释放对应提现记录及销毁锁定的X-BTC；</li><li>至此，比特币提现流程执行完毕。</li></ol></li></ol><h2 id=其他>其他</h2><ol><li><p>用户的比特币充值交易没有携带OP_RETURN，或OP_RETURN中解析不出有效的用户ChainX信息。</p><p>对于这类问题，ChainX的比特币转接桥制定一种协议：</p><blockquote><p>比特币转接桥认为一笔对于ChainX的比特币充值交易，会与这笔比特币交易的<strong>第一个input中含有的地址</strong>相关，这个地址的持有人一定具备这笔充值交易的控制权。</p></blockquote><p>因此若交易中无法获取有效的ChainX用户信息，则会在ChainX的比特币转接桥中记录该交易的<strong>第一个input的地址与这笔充值交易的一个关联关系</strong>，并称呼这种充值交易为“未认领充值交易”。</p><p>当后续若出现使用这个相同地址作为第一个input地址的另一笔充值交易，且这笔充值交易携带有效的OP_RETURN信息能获取到对应的ChainX账户地址时，将会释放与这个地址相关的未认领充值交易至这个ChainX账户地址中。</p><p>例如：</p><p>假设有一笔交易tx1 为：</p><pre><code>input1(address1) |---------|
input2(address2) |---------| output1 (信托地址) value 100000
</code></pre><p>则这笔交易执行后将会在链上记录为：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust>BtcAddress<span style=color:#bbb> </span>=&gt;<span style=color:#bbb> </span>BtcDepositCache(tx_hash,<span style=color:#bbb> </span><span style=color:#00d;font-weight:700>100000</span>)<span style=color:#bbb>
</span></code></pre></div><p>当将来比特币转接桥收到了另一笔充值交易为：</p><pre><code>input1(address1) |--------|
              |--------| output1(信托地址) value 99999
              |--------| output(OP_RETURN) =&gt; ChainX address: 5Xxxxxxxxx
</code></pre><p>此时将会给ChainX地址5Xxxxxxxxx 发放 <code>100000 + 99999 = 199999</code> 的X-BTC，并移除与这个地址相关的未认领充值交易。</p></li></ol><div class="text-muted mt-5 pt-3 border-top">最后修改 30.12.2020: <a href=https://github.com/chainx-org/documentation/commit/f7fb82cfa234548a634d2872e0fbf48603579ed8>update bitcoin doc (#21) (f7fb82c)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://hi@chainx.org><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/chainx_org><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/chainx-org/ChainX><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Telegram aria-label=Telegram><a class=text-white target=_blank href=https://t.me/chainx_org><i class="fab fa-telegram"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 The ChainX Organization All Rights Reserved</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=../../../../js/main.min.b6dfd66b2d261380250c517fd39bc9d8659709e9fc924b00d8fed92e8d9df768.js integrity="sha256-tt/Way0mE4AlDFF/05vJ2GWXCen8kksA2P7ZLo2d92g=" crossorigin=anonymous></script></body></html>