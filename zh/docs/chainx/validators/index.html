<!doctype html><html lang=zh class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.71.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=alternate type=application/rss+xml href=https://chainx-org.github.io/documentation/zh/docs/chainx/validators/index.xml><link rel="shortcut icon" href=../../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../../favicons/android-192x192.png sizes=192x192><title>验证节点指南 | ChainX 文档</title><meta property="og:title" content="验证节点指南"><meta property="og:description" content="ChainX validator guide"><meta property="og:type" content="website"><meta property="og:url" content="https://chainx-org.github.io/documentation/zh/docs/chainx/validators/"><meta property="og:updated_time" content="2022-04-21T16:19:15+08:00"><meta property="og:site_name" content="ChainX 文档"><meta itemprop=name content="验证节点指南"><meta itemprop=description content="ChainX validator guide"><meta name=twitter:card content="summary"><meta name=twitter:title content="验证节点指南"><meta name=twitter:description content="ChainX validator guide"><link rel=preload href=../../../../scss/main.min.415a6fd7e2706af49fb0170de2cfd13fffc74126e7a581e65f95211b1777d254.css as=style><link href=../../../../scss/main.min.415a6fd7e2706af49fb0170de2cfd13fffc74126e7a581e65f95211b1777d254.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=../../../../zh/><span class=navbar-logo><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="296" height="64" viewBox="0 0 296 64" enable-background="new 0 0 296 64"><image id="image0" width="296" height="64" x="0" y="0" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASgAAABACAMAAACeCRqoAAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA21BMVEVHcEzg6c32vEzrd03o d07od032sk5Aucg6x5w1x5o1xpo4xppGttW/4Lz2t0zrdkvqdkzefFa3t39CvsY0x5r///////// //////////////////////////////////85x5n////////////3ykv3ykv////3ykr4y0v////3 ykv3ykv3yUr4ykv///////+dpHb////3ykuInJFRuLvzyU5HruJnp8PKwnFIr+JGr+KWu55yxoNH r+PyskqZnG9+t7SlvZLqdUs0xpr////2yUrvkktGruKrwIS9CbWWAAAAQnRSTlMACElgg50hWJHB 3HQ6Aze/8+YQH/MQUYWs1u3Itn9FGKm9YJ7yjJLfWjObzrluJG2id397/q3A0P6L8PHn3vva0fH5 WCX+AAAAAWJLR0QV5dj5owAAAAd0SU1FB+QHDQgLM1N8HpwAAAqPSURBVHja5Zx9X+I6FoBbUFEk yDuUIkhBlAHh4o7c0R3unVVc/f6faGmbnJOcJKUozsxez2/+GNskbZ+e91QdR4ibyR4cHmSPnERx c8cn+Xz+5LTAnE8pxbPSYyzlg4p1VPW49iQkf/oJUR2dPUpSOrAgOEVMEarqr77vny3Z0qMqZyal co+fiNRyv/rOfzKnR03KuqtyT550+VSkMo8GKVFSRk5PtcKvvvufJ5WSEVSRjJI45U/QV50kLV1v NFteu71ue37nvFv/8EfpfWh4OQDHlC0eZQ9KWzjVTkP/Vb3Yanxuo79WxQ9cOqjZiaS7h+eoDzZv pNXbYQYrDp9jGWaMAy7F6ZCGUKhS1mGM8QAYccoirEoeNKjqhK+NObktKtVor3Vpj9QHqfPj/T1w 8uIr7EKq+CzkyhS9ruF0hIPrUxbOH8QOKotqVUVOuOApP2TMEcb9tVnawQeBGvClOrtMugQUX/ST R0Lfni/DHw9jTofSiCg7jywyQzlJtsPydttrru3Sl3zVHkGBArs7TGITIKUb31ScmkSurxyDIj6J e65S1srJcXhadapdwR2sk8RD69gjKFh+Jy+FWqMZ3404M4wTAO6iyDDw8FmJ04UaVLiXOtY4dYi1 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 AABJRU5ErkJggg=="/></svg></span><span class="text-uppercase font-weight-bold">ChainX 文档</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=../../../../zh/docs/chainx/><span class=active>ChainX</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=../../../../zh/docs/sherpax/><span>SherpaX</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/chainx-org/ChainX target=_blank><span>GitHub</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../../docs/chainx/validators/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002 站内搜索…" aria-label=站内搜索… autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002 站内搜索…" aria-label=站内搜索… autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../../docs/chainx/validators/>English</a></div></div><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Docs</a></li><ul><li class="collapse show" id=zhdocs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/chainx/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">ChainX</a></li><ul><li class="collapse show" id=zhdocschainx><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/chainx/overview/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">概览</a></li><ul><li class=collapse id=zhdocschainxoverview></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/chainx/users/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">用户指南</a></li><ul><li class=collapse id=zhdocschainxusers><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxusersassets_manage href=../../../../zh/docs/chainx/users/assets_manage/>资产管理</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxusersgovernment href=../../../../zh/docs/chainx/users/government/>链上治理</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxuserspcx_staking href=../../../../zh/docs/chainx/users/pcx_staking/>PCX挖矿</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxusersxbtc_staking href=../../../../zh/docs/chainx/users/xbtc_staking/>BTC挖矿</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/chainx/validators/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">验证节点指南</a></li><ul><li class="collapse show" id=zhdocschainxvalidators></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/chainx/developers/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">开发者文档</a></li><ul><li class=collapse id=zhdocschainxdevelopers><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxdevelopersfaq href=../../../../zh/docs/chainx/developers/faq/>FAQ</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxdevelopersrpc href=../../../../zh/docs/chainx/developers/rpc/>RPC</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxdevelopersjs-sdk href=../../../../zh/docs/chainx/developers/js-sdk/>JS-SDK</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxdevelopersdevops href=../../../../zh/docs/chainx/developers/devops/>节点运维</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxdevelopersexchanges href=../../../../zh/docs/chainx/developers/exchanges/>交易所对接</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxdevelopersconnect_metamask href=../../../../zh/docs/chainx/developers/connect_metamask/>连接MetaMask</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxdevelopersclaim_account href=../../../../zh/docs/chainx/developers/claim_account/>绑定账户</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxdevelopersassets_transfer href=../../../../zh/docs/chainx/developers/assets_transfer/>资产划转</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/chainx/bridges/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">资产转接桥/网关</a></li><ul><li class=collapse id=zhdocschainxbridges><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxbridgestrustee href=../../../../zh/docs/chainx/bridges/trustee/>信托</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocschainxbridgesbitcoin href=../../../../zh/docs/chainx/bridges/bitcoin/>比特币转接桥/网关</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/chainx/trouble-shooting/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">常见问题</a></li><ul><li class=collapse id=zhdocschainxtrouble-shooting></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/sherpax/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">SherpaX</a></li><ul><li class=collapse id=zhdocssherpax><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/sherpax/overview/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">概览</a></li><ul><li class=collapse id=zhdocssherpaxoverview></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/sherpax/users/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">用户指南</a></li><ul><li class=collapse id=zhdocssherpaxusers><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocssherpaxusersassets_manage href=../../../../zh/docs/sherpax/users/assets_manage/>资产管理</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocssherpaxusersgovernment href=../../../../zh/docs/sherpax/users/government/>链上治理</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/sherpax/developers/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">开发者文档</a></li><ul><li class=collapse id=zhdocssherpaxdevelopers><a class="td-sidebar-link td-sidebar-link__page" id=m-zhdocssherpaxdevelopersevm href=../../../../zh/docs/sherpax/developers/evm/>EVM</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/sherpax/soswap/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">SoSwap</a></li><ul><li class=collapse id=zhdocssherpaxsoswap></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=../../../../zh/docs/sherpax/trouble-shooting/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">常见问题</a></li><ul><li class=collapse id=zhdocssherpaxtrouble-shooting></li></ul></ul></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/chainx-org/documentation/edit/master/content/zh/docs/chainx/Validators/_index.md target=_blank><i class="fa fa-edit fa-fw"></i>编辑此页</a>
<a href="https://github.com/chainx-org/documentation/issues/new?title=%e9%aa%8c%e8%af%81%e8%8a%82%e7%82%b9%e6%8c%87%e5%8d%97" target=_blank><i class="fab fa-github fa-fw"></i>提交文档问题</a>
<a href=https://github.com/chainx-org/ChainX/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>提交项目问题</a></div><nav id=TableOfContents><ul><li><a href=#1-准备事项>1. 准备事项</a><ul><li><a href=#11-一台-vps>1.1 一台 VPS</a></li><li><a href=#12-安装chainx程序>1.2 安装<code>chainx</code>程序</a></li><li><a href=#13-同步至链的最新状态>1.3 同步至链的最新状态</a></li><li><a href=#14-注册账户>1.4 注册账户</a></li></ul></li><li><a href=#2-注册节点>2. 注册节点</a></li><li><a href=#3-设置-session-keys>3. 设置 Session Keys</a></li><li><a href=#4-备份节点>4. 备份节点</a></li><li><a href=#5-验证出块>5. 验证出块</a></li><li><a href=#6-验证节点退选退选节点无收益不参与任何staking活动>6. 验证节点退选（退选节点无收益，不参与任何staking活动）</a><ul><li><a href=#61-被罚退选>6.1 被罚退选</a></li><li><a href=#62-主动退选如果验证节点不主动退选会被系统惩罚>6.2 主动退选(如果验证节点不主动退选,会被系统惩罚)</a></li><li><a href=#63-手动参选>6.3 手动参选</a></li></ul></li><li><a href=#7-注意事项>7. 注意事项</a></li><li><a href=#8-节点惩罚>8. 节点惩罚</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://chainx-org.github.io/documentation/zh/docs/>Docs</a></li><li class=breadcrumb-item><a href=https://chainx-org.github.io/documentation/zh/docs/chainx/>ChainX</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://chainx-org.github.io/documentation/zh/docs/chainx/validators/>验证节点指南</a></li></ol></nav><div class=td-content><h1>验证节点指南</h1><div class=lead>ChainX validator guide</div><div class="pageinfo pageinfo-primary"><p>验证节点指南</p></div><h2 id=1-准备事项>1. 准备事项</h2><h3 id=11-一台-vps>1.1 一台 VPS</h3><p>最简单的方式是使用一台云主机， 您可以自由选择任一主机提供商。</p><h4 id=111-测试网硬件配置>1.1.1 测试网硬件配置</h4><ul><li>CPU 2 核，内存 2G, 带宽 1M, 操作系统 Ubuntu 20.04+。</li></ul><h4 id=112-主网硬件配置>1.1.2 主网硬件配置</h4><p>以阿里云为例，ChainX 主网推荐配置不低于: CPU 4 核, 内存 4 G, 带宽 10M，磁盘使用 SSD 300G+, 操作系统 20.04+.</p><h3 id=12-安装chainx程序>1.2 安装<code>chainx</code>程序</h3><h4 id=121-从源码编译>1.2.1 从源码编译</h4><p>安装相关依赖库, 以ubuntu 20.04为例</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo apt update -y
sudo apt install --no-install-recommends -y <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>     git curl ca-certificates <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>     gcc g++ cmake clang
</code></pre></div><p>我们假设您已经安装好 Rust nightly 与 <code>wasm32-unknown-unknown</code>:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ rustup install nightly-2021-11-07
$ rustup override <span style=color:#038>set</span> nightly-2021-11-07
$ rustup target add wasm32-unknown-unknown --toolchain nightly-2021-11-07
</code></pre></div><p>接下来， 您需要按照以下步骤完成编译工作：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git clone https://github.com/chainx-org/ChainX
$ <span style=color:#038>cd</span> ChainX
<span style=color:#888># 切到最新的 tag</span>
$ git checkout <span style=color:#080;font-weight:700>$(</span>git describe --tags <span style=color:#080;font-weight:700>$(</span>git rev-list --tags --max-count=1<span style=color:#080;font-weight:700>))</span>
<span style=color:#888># 编译 Release 版本的二进制</span>
$ cargo build --release
</code></pre></div><p>编译完成后，<code>chainx</code>程序将在<code>target/release/</code>目录下。</p><h4 id=122-直接下载编译好的二进制>1.2.2 直接下载编译好的二进制</h4><p>从 <a href=https://github.com/chainx-org/ChainX/releases>GitHub release(https://github.com/chainx-org/ChainX/releases)</a> 页面下载提供编译好的二进制。</p><h3 id=13-同步至链的最新状态>1.3 同步至链的最新状态</h3><blockquote><h4 id=how-to-sync-blocks-from-genesisblock-0><code>How to sync blocks from genesis(block #0)</code></h4><ul><li>(0) You should know <a href=https://github.com/chainx-org/ChainX/issues/609>Debug: panicked at &lsquo;Storage root must match that calculated ' #609</a>
<strong>if you use ChainX v4.x.x directly sync blocks will be stuck at #881910</strong> or other block.</li><li>(1) Compile <a href=https://github.com/chainx-org/ChainX/tree/v3.0.0>ChainX v3.0.0</a> by <code>nightly-2020-09-30</code> or Download <a href=https://github.com/chainx-org/ChainX/releases/download/v3.0.0/chainx-v3.0.0-ubuntu20.04-x86_64-unknown-linux-gnu-1>chainx-v3.0.0-ubuntu20.04-x86_64-unknown-linux-gnu-1</a>
the ChainX v3.0.0 seed nodes are bad, so you should use new mainnet bootnodes with <code>--bootnodes</code></li></ul><pre><code>&quot;/ip4/52.77.243.26/tcp/23555/ws/p2p/12D3KooWQ6GGfmvmmmsbKRmZqMA3A8rxaHz25HvA7JNBbcZhLXtk&quot;
&quot;/ip4/120.26.57.227/tcp/36789/ws/p2p/12D3KooWEAX2BcQCZP79MuxQpqLQUop7P3tZY97eNxxUgc4ZTu3k&quot;
&quot;/ip4/47.114.74.52/tcp/36789/ws/p2p/12D3KooWJPMUkGytfAMt3AMqm4AFn4VToXjbWZoC4Z2NxXNXvTwb&quot;
</code></pre><ul><li>(2) Until <strong>#3038400</strong>, please use ChainX v3.0.0 to synchronize with <code>NativeElseWasm (default mode)</code></li><li>(3) For blocks after <strong>#3038400</strong>, complete (2) first, and then replace ChainX v3.0.0 with ChainX v4.x.x to complete the db migration (note that the migration process is irreversible, it is recommended to back up the data first)</li><li>(4) ChainX v4.x.x continues to synchronize blocks</li></ul></blockquote><p>通过下面的命令开始同步区块链:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ./chainx-v3.0.0 --chain=mainnet --pruning=archive <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  --bootnodes=<span style=color:#d20;background-color:#fff0f0>&#34;/ip4/52.77.243.26/tcp/23555/ws/p2p/12D3KooWQ6GGfmvmmmsbKRmZqMA3A8rxaHz25HvA7JNBbcZhLXtk&#34;</span> <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  --bootnodes=<span style=color:#d20;background-color:#fff0f0>&#34;/ip4/120.26.57.227/tcp/36789/ws/p2p/12D3KooWEAX2BcQCZP79MuxQpqLQUop7P3tZY97eNxxUgc4ZTu3k&#34;</span>

<span style=color:#888># until block #3038400</span>
$ ./chainx-v4.2.0 --chain=mainnet --pruning=archive 
</code></pre></div><p>同步完成后，以验证人模式重启节点:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ ./chainx --chain=mainnet --validator
</code></pre></div><p>或直接以验证人模式启动进行同步：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#888># 使用 --validator 时，同时将默认启用存档模式即 --pruning=archive</span>
$ ./chainx --chain=mainnet --validator
</code></pre></div><p>不过注意，一定等待同步完成并且设置好 Session Keys 后再让节点参选。</p><blockquote><p>如果出现同步异常， 请确保系统时间和网络时间一致， 删除数据库之后再进行同步。</p></blockquote><h4 id=131-配置文件>1.3.1 配置文件</h4><p>对于验证者节点， 我们建议如下配置：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#b06;font-weight:700>&#34;log-dir&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;./log&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>日志目录</span>
  <span style=color:#b06;font-weight:700>&#34;enable-console-log&#34;</span>: <span style=color:#080;font-weight:700>false</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>同时将日志输出到控制台</span>
  <span style=color:#b06;font-weight:700>&#34;no-mdns&#34;</span>: <span style=color:#080;font-weight:700>true</span>,
  <span style=color:#b06;font-weight:700>&#34;validator&#34;</span>: <span style=color:#080;font-weight:700>true</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>验证者节点必须为</span> <span style=color:#a61717;background-color:#e3d2d2>true,</span> <span style=color:#a61717;background-color:#e3d2d2>默认为false</span>
  <span style=color:#b06;font-weight:700>&#34;unsafe-ws-external&#34;</span>: <span style=color:#080;font-weight:700>true</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>验证者节点建议关闭对外的ws端口</span>
  <span style=color:#b06;font-weight:700>&#34;unsafe-rpc-external&#34;</span>: <span style=color:#080;font-weight:700>true</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>验证者节点建议关闭对外的rpc端口</span>
  <span style=color:#b06;font-weight:700>&#34;rpc-methods&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;unsafe&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;log&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;info,runtime=info&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;port&#34;</span>: <span style=color:#00d;font-weight:700>20222</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>指定p2p协议的tcp端口</span>
  <span style=color:#b06;font-weight:700>&#34;ws-port&#34;</span>: <span style=color:#00d;font-weight:700>8087</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>指定websocket的RPC服务端口</span>
  <span style=color:#b06;font-weight:700>&#34;rpc-port&#34;</span>: <span style=color:#00d;font-weight:700>8086</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>指定http的RPC服务端口</span>
  <span style=color:#b06;font-weight:700>&#34;pruning&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;archive&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>强烈建议加上该配置，以存档模式启动</span>
  <span style=color:#b06;font-weight:700>&#34;execution&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;NativeElseWasm&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;db-cache&#34;</span>: <span style=color:#00d;font-weight:700>2048</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>设置节点数据库的缓存，单位MB，即这里为2GB</span>
  <span style=color:#b06;font-weight:700>&#34;state-cache-size&#34;</span>: <span style=color:#00d;font-weight:700>2147483648</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>设置节点状态树缓存，单位B，即这里为2GB</span> <span style=color:#a61717;background-color:#e3d2d2>(2GB</span> <span style=color:#a61717;background-color:#e3d2d2>=</span> <span style=color:#a61717;background-color:#e3d2d2>2</span> <span style=color:#a61717;background-color:#e3d2d2>*</span> <span style=color:#a61717;background-color:#e3d2d2>1024</span> <span style=color:#a61717;background-color:#e3d2d2>*</span> <span style=color:#a61717;background-color:#e3d2d2>1024)</span>
  <span style=color:#b06;font-weight:700>&#34;name&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;Your-Node-Name&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>在节点浏览器Telemetry中显示的节点名</span>
  <span style=color:#b06;font-weight:700>&#34;base-path&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;data&#34;</span>, <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>数据库路径，</span> <span style=color:#a61717;background-color:#e3d2d2>linux下默认为`$HOME/.local/share/chainx/chains/$CHAIN_TYPE/db`</span>
  <span style=color:#b06;font-weight:700>&#34;bootnodes&#34;</span>: [
    <span style=color:#d20;background-color:#fff0f0>&#34;/ip4/120.26.57.227/tcp/36789/ws/p2p/12D3KooWEAX2BcQCZP79MuxQpqLQUop7P3tZY97eNxxUgc4ZTu3k&#34;</span>,
    <span style=color:#d20;background-color:#fff0f0>&#34;/ip4/47.114.74.52/tcp/36789/ws/p2p/12D3KooWJPMUkGytfAMt3AMqm4AFn4VToXjbWZoC4Z2NxXNXvTwb&#34;</span>
  ] <span style=color:#a61717;background-color:#e3d2d2>//</span> <span style=color:#a61717;background-color:#e3d2d2>种子节点，</span> <span style=color:#a61717;background-color:#e3d2d2>为空列表时使用内置的种子节点</span>
}
</code></pre></div><p>部分 rpc 服务属于敏感操作，如需暴露于公网，建议使用代理服务器进行过滤 (详见：<a href=https://github.com/paritytech/substrate/wiki/Public-RPC>https://github.com/paritytech/substrate/wiki/Public-RPC</a>).</p><p>如果您已知悉并了解相关风险，可在启动节点时加入<code>--rpc-methods unsafe</code>参数.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt>{
---snip---
  &#34;unsafe-ws-external&#34;: true, // replace ws-external
  &#34;unsafe-rpc-external&#34;: true, // replace rpc-external
  &#34;rpc-methods&#34;: &#34;unsafe&#34;,
---snip---
}
</code></pre></div><p>节点成功启动后， 可以在<a href=https://telemetry.chainx.org>ChainX Telemetry</a>或者 <a href=https://telemetry.polkadot.io/#list/ChainX>Polkadot Telemetry</a> 上看到您的节点。</p><h4 id=132-使用-docker-镜像>1.3.2 使用 docker 镜像</h4><p>将上述配置文件放在当前目录下， 命名为<code>config.json</code>, 去掉注释的部分。 运行如下命令：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#369>$cat</span> ./config.json
{
  <span style=color:#d20;background-color:#fff0f0>&#34;log-dir&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;/log&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;enable-console-log&#34;</span>: false,
  <span style=color:#d20;background-color:#fff0f0>&#34;no-mdns&#34;</span>: true,
  <span style=color:#d20;background-color:#fff0f0>&#34;validator&#34;</span>: true,
  <span style=color:#d20;background-color:#fff0f0>&#34;unsafe-ws-external&#34;</span>: true,
  <span style=color:#d20;background-color:#fff0f0>&#34;unsafe-rpc-external&#34;</span>: true,
  <span style=color:#d20;background-color:#fff0f0>&#34;rpc-methods&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;unsafe&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;log&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;info,runtime=info&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;port&#34;</span>: 20222,
  <span style=color:#d20;background-color:#fff0f0>&#34;ws-port&#34;</span>: 8087,
  <span style=color:#d20;background-color:#fff0f0>&#34;rpc-port&#34;</span>: 8086,
  <span style=color:#d20;background-color:#fff0f0>&#34;pruning&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;archive&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;execution&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;NativeElseWasm&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;db-cache&#34;</span>: 2048,
  <span style=color:#d20;background-color:#fff0f0>&#34;state-cache-size&#34;</span>: 2147483648,
  <span style=color:#d20;background-color:#fff0f0>&#34;name&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;Your-Node-Name&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;base-path&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;/data&#34;</span>,
  <span style=color:#d20;background-color:#fff0f0>&#34;bootnodes&#34;</span>: []
}
</code></pre></div><p>运行以下命令，可以直接后台启动节点(从genesis block同步区块参考上一节)</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker pull chainxorg/chainx:v4.2.0
docker run -d --restart always --name chainx <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  -p 8086:8086 -p 8087:8087 -p 20222:20222 <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  -v <span style=color:#369>$PWD</span>/config.json:/config.json -v <span style=color:#369>$PWD</span>/data:/data <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  -v <span style=color:#369>$PWD</span>/log:/log -v <span style=color:#369>$PWD</span>/keystore:/keystore <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  chainxorg/chainx:v4.2.0 /usr/local/bin/chainx <span style=color:#04d;background-color:#fff0f0>\
</span><span style=color:#04d;background-color:#fff0f0></span>  --config /config.json
</code></pre></div><p>其中，各参数为配置文件中对应参数, 后台运行的 docker 可以通过:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#369>$tail</span> -f log/chainx.log <span style=color:#888># 查看全部日志</span>
</code></pre></div><p>当日志出现开始同步块的时候， 即说明节点成功启动。</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>......
2021-04-02 03:05:43:700 INFO tokio-runtime-worker substrate ⚙️ Syncing, target=#1834748 (4 peers), best: #251 (0x4d58…0729), finalized #0 (0x012c…4810), ⬇ 175.1kiB/s ⬆ 11.6kiB/s
2021-04-02 03:05:48:700 INFO tokio-runtime-worker substrate ⚙️ Syncing 74.4 bps, target=#1834748 (7 peers), best: #623 (0xe3ce…db06), finalized #601 (0x78d1…b55e), ⬇ 54.0kiB/s ⬆ 6.0kiB/s
......
</code></pre></div><p>如果需要在外部使用 rpc 服务, 需要在配置文件中加入<code>ws-external: true</code>和<code>rpc-external: true</code>。其他选项参考<a href=#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6>上文</a>。</p><p>在配置时，建议更改配置文件中的<code>name</code>项。</p><p>端口的映射必须与<code>config.json</code>中保持一致，否则将无法正常使用 rpc。</p><h3 id=14-注册账户>1.4 注册账户</h3><p>您可以在<a href=https://dapp.chainx.org/>ChainX钱包(https://dapp.chainx.org/)</a> 上注册账户, 并向该账户转入一点 PCX 作为交易手续费以及后续抵押等费用。</p><p><img src=../../../../images/add-account.png alt=add-account></p><h2 id=2-注册节点>2. 注册节点</h2><p>注册成功后，您可以在<a href=https://dapp.chainx.org/#/staking><code>Network>Staking(https://dapp.chainx.org/#/staking)</code></a> 页面上注册节点。</p><p><img src=../../../../images/register-node.png alt=register-node></p><p>每个账号只能注册一次. 另外，注册之前您需要保证有足够余额支付交易手续费。新注册的节点默认参选，您无需进行额外的操作。除了注册节点时的初始质押币，您也可以通过<strong>投票</strong>的方式再次进行质押。选举时间结束后，总质押量排名前 40 的节点，将成为验证人参与共识。</p><p><img src=../../../../images/bond.png alt=rebond></p><h2 id=3-设置-session-keys>3. 设置 Session Keys</h2><p>您可以在运行节点的机器上执行以下命令来生成 Session Keys:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ curl -H <span style=color:#d20;background-color:#fff0f0>&#34;Content-Type: application/json&#34;</span> -d <span style=color:#d20;background-color:#fff0f0>&#39;{&#34;id&#34;:1, &#34;jsonrpc&#34;:&#34;2.0&#34;, &#34;method&#34;: &#34;author_rotateKeys&#34;, &#34;params&#34;:[]}&#39;</span> http://localhost:<span style=color:#369>$YOUR_RPC_PORT</span>
</code></pre></div><p>其中，<code>YOUR_RPC_PORT</code>为启动节点时<code>rpc-port</code>指定的端口， 未指定的情况下默认端口是 8086。</p><p>返回结果如下：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#b06;font-weight:700>&#34;jsonrpc&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;2.0&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;result&#34;</span>: <span style=color:#d20;background-color:#fff0f0>&#34;0x42a7d53603bac173eb96e4ac133e35bcd4a49f308387a0e748b6f6a6dbf5635313f065a67a42a78a2c3e261a63523d92d4e03f9e7c9bba7c3d13b13b6983f0724c46b00699362a374f3fe43dd668eae6fcd815d0b84f88998ca5fc1c41e09b2412e2b9d3a322d9229a24cbce31d53358edc77b6fbaca7d038247743f40b6f205&#34;</span>,
  <span style=color:#b06;font-weight:700>&#34;id&#34;</span>: <span style=color:#00d;font-weight:700>1</span>
}
</code></pre></div><p>其中，<code>result</code>字段即为获取的 Session Keys, 然后在<a href=https://dapp.chainx.org/#/chainstate/extrinsics><code>Developer>Extrinsic</code></a> 通过<code>setKeys</code>进行设置：</p><p><img src=../../../../images/setkeys.png alt=setKeys></p><ul><li>目前，<code>proof</code> 填入<code>0x00</code> 即可。</li></ul><p>调用<code>nextKey</code>可以验证是否正确设置。</p><h2 id=4-备份节点>4. 备份节点</h2><p>由于当节点部署不当导致出块异常时， 会受到一定的惩罚。 所以可以部署额外的备份节点， 备份节点以<code>--pruning=archive</code>模式启动， 这样当主节点出现异常时， 可以用备份节点代替工作， 以免受到惩罚。</p><h2 id=5-验证出块>5. 验证出块</h2><p>当选验证人之后，如果在日志中看到<code>Prepared block for proposing at ...</code>, 即说明节点已成功出块。</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>......
Nov 04 10:12:06.008  INFO 🙌 Starting consensus session on top of parent 0x6dd1e2edbf490ade94e944b09738c258921655708f6c2b5b8a63b5e38d02ac16
Nov 04 10:12:06.009  INFO 🎁 Prepared block for proposing at 4 [hash: 0x6740b08d96a329c9be13290760d15a537f3bd6635c85261b63e44395ad830b36; parent_hash: 0x6dd1…ac16; extrinsics (2): [0xe497…419a, 0x3af6…b467]]
Nov 04 10:12:06.012  INFO 🔖 Pre-sealed block for proposal at 4. Hash now 0x66f1579117b6aba16d4f57ae7ddf19ad209c8077a4f4f78ed4cb80877754a0f5, previously 0x6740b08d96a329c9be13290760d15a537f3bd6635c85261b63e44395ad830b36.
......
</code></pre></div><h2 id=6-验证节点退选退选节点无收益不参与任何staking活动>6. 验证节点退选（退选节点无收益，不参与任何staking活动）</h2><h3 id=61-被罚退选>6.1 被罚退选</h3><p>当验证节点奖池被惩罚为0或其他惩罚, 验证节点被踢出当前验证节点集合, 成为退选节点。
若想重新参与staking，则需要手动参选。</p><h3 id=62-主动退选如果验证节点不主动退选会被系统惩罚>6.2 主动退选(如果验证节点不主动退选,会被系统惩罚)</h3><p>点击右上角 <code>退选(Drop)</code>
<img src=../../../../images/drop1.png alt=drop1>
<img src=../../../../images/drop2.png alt=drop2></p><p>或者在<a href=https://dapp.chainx.org/#/chainstate/extrinsics><code>Developer>Extrinsic</code></a>
通过<code>chill</code>进行设置
<img src=../../../../images/drop3.png alt=drop3></p><h3 id=63-手动参选>6.3 手动参选</h3><p>点击右上角 <code>参选(Candidate)</code>
<img src=../../../../images/candidate1.png alt=candidate1>
<img src=../../../../images/candidate2.png alt=candidate2></p><p>或者在<a href=https://dapp.chainx.org/#/chainstate/extrinsics><code>Developer>Extrinsic</code></a>
通过<code>validate</code>进行设置
<img src=../../../../images/candidate3.png alt=candidate3></p><h2 id=7-注意事项>7. 注意事项</h2><ul><li>第一次减半前，每个 session 约 5 分钟，共发行 50 PCX。</li><li>每 12 个 session 进行一次验证人选举换届。</li><li>如果节点自抵押小于 1PCX 或总得票数小于 10PCX, 在选举验证人时将会被强制退选。</li><li>ChainX v4.2.0之后, <a href=https://github.com/chainx-org/ChainX/pull/625>候选状态的验证节点既不被奖励也不被惩罚</a></li></ul><h2 id=8-节点惩罚>8. 节点惩罚</h2><p>ChainX 在每个 session 会发放奖励，同时惩罚可能作恶的节点，惩罚类型一般包括节点双签与节点离线。一旦节点被发现作恶，作恶节点在该 session 的应得奖励将会被全部惩罚进国库，同时按照链上汇报的作恶系数惩罚节点奖池, 即：</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>penalty = max(session_reward + reward_pot_balance * F, minimum_penalty)
</code></pre></div><ul><li><code>penalty</code>: 应罚金额</li><li><code>session_reward</code>: 节点的 session 奖励</li><li><code>reward_pot_balance</code>: 节点奖池金额</li><li><code>F</code>: 惩罚系数，由 babe 与 im-online 模块计算得出:<ul><li>babe: <a href=https://wiki.polkadot.network/docs/en/learn-staking/#babe-equivocation>节点双签惩罚详情</a>, <a href=https://github.com/paritytech/substrate/blob/c60f00840034017d4b7e6d20bd4fcf9a3f5b529a/frame/babe/src/equivocation.rs#L265>frame/babe/src/equivocation.rs</a>.</li><li>im-online: <a href=https://wiki.polkadot.network/docs/en/learn-staking/#unresponsiveness>节点离线惩罚详情</a>, <a href=https://github.com/paritytech/substrate/blob/c60f00840034017d4b7e6d20bd4fcf9a3f5b529a/frame/im-online/src/lib.rs#L771>frame/im-online/src/lib.rs</a>.</li></ul></li><li><code>minimum_penalty</code>: 最小惩罚值, 即每次惩罚至少罚 <code>minimum_penalty</code>。</li></ul><p>ChainX 节点作恶并不惩罚本金，而是惩罚节点奖池。当节点奖池被罚完后，节点会被强制退选。</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Rust data-lang=Rust><span style=color:#080;font-weight:700>if</span><span style=color:#bbb> </span>penalty<span style=color:#bbb> </span>&gt;<span style=color:#bbb> </span>reward_pot_balance<span style=color:#bbb> </span>{<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#888>// force the validator(offender) to be chilled
</span><span style=color:#888></span>}<span style=color:#bbb>
</span></code></pre></div><div class=section-index><hr class=panel-line></div><div class="text-muted mt-5 pt-3 border-top">最后修改 21.04.2022: <a href=https://github.com/chainx-org/documentation/commit/c57baf36b9d9aa233e733f08fc94da288f42e2a4>Update docs (c57baf3)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://hi@chainx.org><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/chainx_org><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/chainx-org/ChainX><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Telegram aria-label=Telegram><a class=text-white target=_blank href=https://t.me/chainx_org><i class="fab fa-telegram"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 The ChainX Organization All Rights Reserved</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=../../../../js/main.min.b6dfd66b2d261380250c517fd39bc9d8659709e9fc924b00d8fed92e8d9df768.js integrity="sha256-tt/Way0mE4AlDFF/05vJ2GWXCen8kksA2P7ZLo2d92g=" crossorigin=anonymous></script></body></html>